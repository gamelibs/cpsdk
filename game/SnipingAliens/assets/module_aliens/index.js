System.register("chunks:///_virtual/AimTargetComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./GameEvent.ts"],(function(t){var n,i,o,e,s,r,a,c;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,e=t.Vec3,s=t.tween,r=t.Component},function(t){a=t.EventDispatcher},function(t){c=t.GameEvent}],execute:function(){var h;i._RF.push({},"c6dfdO9PzRCrpBhtNTolE/y","AimTargetComponent",void 0);var u=o.ccclass;o.property,t("AimTargetComponent",u("AimTargetComponent")(h=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this)._originalPos=new e,n._isShaking=!1,n}n(i,t);var o=i.prototype;return o.onLoad=function(){a.instance.on(c.EVENT_PLAY_GUN_ANIMATION,this.shakeEffect,this)},o.start=function(){e.copy(this._originalPos,this.node.position)},o.shakeEffect=function(){var t=this;if(!this._isShaking){this._isShaking=!0;for(var n=function(){return 20*(2*Math.random()-1)},i=s(this.node),o=0;o<4;o++)i.to(.1,{position:new e(this._originalPos.x+n(),this._originalPos.y+n(),this._originalPos.z)});i.to(.1,{position:this._originalPos}).call((function(){t._isShaking=!1,a.instance.emit(c.EVENT_CAMERA_HIDE_AIM)})).start()}},o.update=function(t){},i}(r))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/AliensAudioMgr.ts",["cc","./tgx.ts","./ModuleDef.ts","./MusicConfigModel.ts","./AudioMgr.ts"],(function(i){var n,t,o,u;return{setters:[function(i){n=i.cclegacy},null,function(i){t=i.ModuleDef},function(i){o=i.MusicConfigModel},function(i){u=i.AudioMgr}],execute:function(){n._RF.push({},"5b50dkr6cJFzKAXfVzeUvMt","AliensAudioMgr",void 0);var e=t.MODULE_ALIENS;i("AliensAudioMgr",function(){function i(){}return i.initilize=function(){this._musicConfigModel=new o},i.playOneShot=function(i,n){void 0===n&&(n=1),u.inst.playOneShot(i,n,e)},i.play=function(i,n){void 0===n&&(n=1),u.inst.play(i,n,e)},i.getMusicIdName=function(i){return"Audio/"+this._musicConfigModel.getNameById(i)},i.stop=function(){u.inst.stop()},i.pause=function(){u.inst.pause()},i.resume=function(){u.inst.audioSource.play()},i}())._musicConfigModel=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/AliensGlobalInstance.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,l,s,r,o,i,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e._decorator,o=e.Component,i=e.find,c=e.Camera}],execute:function(){var u,m;s._RF.push({},"525b47EIWJHiZDYs/KORSJd","AliensGlobalInstance",void 0);var I=r.ccclass;r.property,e("AliensGlobalInstance",I("AliensGlobalInstance")(((m=function(e){function s(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).camera=null,t.levels=null,t.homeUI=null,t.battleUI=null,t.bottomBtn=null,t.topLeftNode=null,t.titleLvl=null,t.aimNode=null,t.aimTarget=null,t.radarNode=null,t.renderNode=null,t.btnRender=null,t.btnProbe=null,t.btnPowerUp=null,t.lbPropTips=null,t}return t(s,e),s.prototype.initUI=function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.camera=i("Canvas/Camera").getComponent(c),this.levels=i("Canvas/Scene/Levels"),this.homeUI=i("Canvas/GameUI/HomeUI"),this.battleUI=i("Canvas/GameUI/BattleUI"),this.bottomBtn=i("Canvas/GameUI/BattleUI/BottomBtns"),this.topLeftNode=i("Canvas/GameUI/TopLeft"),this.titleLvl=i("Canvas/GameUI/BattleUI/TitleLvl"),this.aimNode=i("Canvas/GameUI/BattleUI/Aim"),this.aimTarget=i("Canvas/GameUI/BattleUI/AimTarget"),this.radarNode=i("Canvas/GameUI/BattleUI/Radar"),this.renderNode=i("Canvas/GameUI/BattleUI/Render"),this.btnRender=i("Canvas/GameUI/BattleUI/BottomBtns/BtnRender"),this.btnProbe=i("Canvas/GameUI/BattleUI/BottomBtns/BtnProbe"),this.btnPowerUp=i("Canvas/GameUI/HomeUI/Power/BtnPowerUp"),this.lbPropTips=i("Canvas/GameUI/BattleUI/LbPropTips");case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n(s,null,[{key:"instance",get:function(){return this._instance||(this._instance=new s),this._instance}}]),s}(o))._instance=void 0,u=m))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserMgr.ts","./EventDispatcher.ts","./GameEvent.ts","./GlobalConfig.ts","./AdvertMgr.ts","./LevelMgr.ts"],(function(e){var t,n,r,i,o,a,s,u,c,l,d,f,h,p,C,E,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,u=e.Label,c=e.find,l=e.NodeEventType,d=e.Component},function(e){f=e.UserManager},function(e){h=e.EventDispatcher},function(e){p=e.GameEvent},function(e){C=e.GlobalConfig},function(e){E=e.AdvertMgr},function(e){R=e.LevelManager}],execute:function(){var b,v,g,A,m,S,y,B,F,_,U;o._RF.push({},"d572aUFy3tLH7SxBJlHp/Xx","BattleUI",void 0);var I=a.ccclass,L=a.property;e("BattleUI",(b=I("BattleUI"),v=L(s),g=L(u),A=L(s),m=L(u),b((B=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"renderAd",B,i(t)),r(t,"lbRenderFreeCount",F,i(t)),r(t,"radarAd",_,i(t)),r(t,"lbRadarFreeCount",U,i(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.registerListener()},o.onDestroy=function(){this.unregisterListener()},o.start=function(){this.updateBtnsCountUI()},o.onEnable=function(){this.resetRemainPos()},o.registerListener=function(){var e=this;h.instance.on(p.EVENT_REFRESH_PLAYER_INFO,this.updateBtnsCountUI,this),h.instance.on(p.EVENT_CAMERA_SPLIT,this.startCamerSplit,this);var t=c("Canvas/GameUI/BattleUI/BottomBtns/BtnRender"),n=c("Canvas/GameUI/BattleUI/BottomBtns/BtnProbe");t.on(l.TOUCH_END,(function(){return e.onScreenShot()}),this),n.on(l.TOUCH_END,(function(){return e.onRadar()}),this)},o.resetRemainPos=function(){var e=R.instance.levelModel.level,t=this.node.getChildByName("Remain");t.setPosition(-50,590,0),e>1&&(console.log("当前等级:"+e),t.setPosition(-250,590,0))},o.updateBtnsCountUI=function(){var e=f.instance.userModel,t=e.radarFreeCount,n=e.freeScreenShotCount;this.lbRenderFreeCount.string=""+n,this.lbRadarFreeCount.string=""+t,this.renderAd.active=!1,this.radarAd.active=!1,t<=0&&(this.lbRadarFreeCount.string="",this.radarAd.active=!0),n<=0&&(this.lbRenderFreeCount.string="",this.renderAd.active=!0)},o.onScreenShot=function(){this.useAbility(f.instance.userModel.freeScreenShotCount,(function(e){return f.instance.reduceFreeScreenShotCount(e)}),p.EVENT_CAMERA_SCREENSHOT)},o.onRadar=function(){this.useAbility(f.instance.userModel.radarFreeCount,(function(e){return f.instance.reduceRadarFreeCount(e)}),p.EVENT_CAMERA_SCREENSHOT_RADAR)},o.useAbility=function(e,t,n){e<=0?C.isDebug?h.instance.emit(n):E.instance.showReawardVideo((function(){h.instance.emit(n)})):(t(1),h.instance.emit(n))},o.startCamerSplit=function(){this.node.active=!1},o.unregisterListener=function(){h.instance.off(p.EVENT_REFRESH_PLAYER_INFO,this.updateBtnsCountUI,this)},t}(d)).prototype,"renderAd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(y.prototype,"lbRenderFreeCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(y.prototype,"radarAd",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(y.prototype,"lbRadarFreeCount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=y))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/BulletComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./GameEvent.ts"],(function(t){var o,e,n,i,r,a,s,l,d,c,h,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Camera,l=t.Vec3,d=t.tween,c=t.Component},function(t){h=t.EventDispatcher},function(t){u=t.GameEvent}],execute:function(){var w,f,m,p,P;r._RF.push({},"66dbdhEUfVELox6k0zNf5Ro","BulletComponent",void 0);var v=a.ccclass,g=a.property,A=t("CAMERA_SPLIT_DURATION",3);t("BulletComponent",(w=v("BulletComponent"),f=g(s),w((P=o((p=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(o=t.call.apply(t,[this].concat(r))||this).target=null,n(o,"camera",P,i(o)),o}e(o,t);var r=o.prototype;return r.onLoad=function(){h.instance.on(u.EVENT_CAMERA_SPLIT,this.camerSlip,this)},r.camerSlip=function(t){this.hideGun(),this.target=t,this.lookAtTarget(),this.flyToTarget()},r.hideGun=function(){this.camera.node.getChildByName("gun").active=!1},r.lookAtTarget=function(){if(this.target){var t=new l;l.subtract(t,this.target.worldPosition,this.node.worldPosition),t.normalize();var o=180*Math.atan2(t.x,t.z)/Math.PI;this.node.setRotationFromEuler(0,o,0)}},r.flyToTarget=function(){var t=this;if(this.target&&this.camera){var o=new l;l.subtract(o,this.target.worldPosition,this.node.worldPosition),o.normalize();var e=new l;l.scaleAndAdd(e,this.node.worldPosition,o,-5),this.camera.node.worldPosition=e,this.camera.node.lookAt(this.node.worldPosition);var n=this.target.worldPosition.clone(),i=0;d(this.node).to(A,{worldPosition:new l(n.x,n.y,n.z)},{onUpdate:function(e,n){if((i=3*n)<=1){var r=new l;l.scaleAndAdd(r,t.node.worldPosition,o,-5),r.y+=1,t.camera.node.worldPosition=r,t.camera.node.lookAt(t.node.worldPosition)}else if(i<=2){var a=new l;l.rotateY(a,o,l.UP,Math.PI/2);var s=new l;l.scaleAndAdd(s,t.node.worldPosition,o,-5),s.y+=3;var d=new l;l.scaleAndAdd(d,t.node.worldPosition,a,-5),d.y+=3;var c=new l,h=(i-1)/1;l.lerp(c,s,d,h),t.camera.node.worldPosition=c,t.camera.node.lookAt(t.node.worldPosition)}else{t.node.setScale(1,1,1);var u=new l(t.target.worldPosition.x,t.target.worldPosition.y+2,t.target.worldPosition.z+3);t.camera.node.worldPosition=u,t.camera.node.lookAt(t.target.worldPosition)}}}).start()}},r.onDestroy=function(){h.instance.off(u.EVENT_CAMERA_SPLIT,this.camerSlip,this)},o}(c)).prototype,"camera",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=p))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CarColorsGlobalTypes.ts","./GlobalConfig.ts","./AdvertMgr.ts"],(function(t){var n,e,o,r,i,a,u,l,c,s,f,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,u=t.Button,l=t.NodeEventType,c=t.Component},function(t){s=t.TYPE_ITEM},function(t){f=t.GlobalConfig},function(t){p=t.AdvertMgr}],execute:function(){var d,b,h,g,v,C,E;i._RF.push({},"b9f6afE/WpI+YialF/qvmW4","ButtonComponent",void 0);var y=a.ccclass,R=a.property;t("ButtonComponent",(d=y("ButtonComponent"),b=R(u),h=R(u),d((C=n((v=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return n=t.call.apply(t,[this].concat(i))||this,o(n,"btRefresh",C,r(n)),o(n,"btMagnet",E,r(n)),n}e(n,t);var i=n.prototype;return i.start=function(){this.addUIEvent()},i.addUIEvent=function(){var t=this;this.btRefresh.node.on(l.TOUCH_END,(function(){return t.onClickHandler(s.REFRESH)}),this),this.btMagnet.node.on(l.TOUCH_END,(function(){return t.onClickHandler(s.MAGNET)}),this)},i.onClickHandler=function(t){(t==s.REFRESH||t==s.MAGNET)&&(f.isDebug||p.instance.showReawardVideo((function(){})))},n}(c)).prototype,"btRefresh",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(v.prototype,"btMagnet",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/CamerSegmentation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./AliensGlobalInstance.ts"],(function(e){var n,t,o,r,i,a,s,c,l,u,d;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.director,i=e.tween,a=e.Vec3,s=e.Camera,c=e.Prefab,l=e.instantiate},function(e){u=e.resLoader},function(e){d=e.AliensGlobalInstance}],execute:function(){o._RF.push({},"029ebVjeXlDdaoAtgimTSKt","CamerSegmentation",void 0);var w=e("moveDuration",2.5),m=e("CameraSegmentation",function(){function e(){}return e.segmentation=function(){var e=n(t().mark((function e(n,o){var s,c,l,u,m,f,h,p,P;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBullet();case 2:return s=e.sent,d.instance.levels.children[0].addChild(s),s.setWorldPosition(n.worldPosition.clone()),s.lookAt(o.worldPosition,a.UP),c=new a,a.lerp(c,n.worldPosition,o.worldPosition,.5),l=new a,a.subtract(l,o.worldPosition,n.worldPosition),a.normalize(l,l),u=new a,a.scaleAndAdd(u,n.worldPosition,l,2*-this.cameraFollowDistance),u.y+=this.cameraHeight,m=new a,f=new a(-l.z,0,l.x),a.scaleAndAdd(m,c,l,-this.cameraFollowDistance),a.scaleAndAdd(m,m,f,this.cameraFollowDistance),m.y+=1.5*this.cameraHeight,h=new a,p=new a(-l.z,0,l.x),a.scaleAndAdd(h,o.worldPosition,l,.5*-this.cameraFollowDistance),a.scaleAndAdd(h,h,p,this.cameraFollowDistance),h.y+=1*this.cameraHeight,e.next=27,this.getSceneCamera();case 27:(P=e.sent).node.setWorldPosition(u),P.node.lookAt(o.worldPosition),r.getScheduler().setTimeScale(.1),i(s).to(w,{worldPosition:o.worldPosition.clone()},{onUpdate:function(e,t){var r=new a,i=new a;t<.6?(a.lerp(r,u,m,t/.6),a.lerp(i,n.worldPosition,c,t/.6)):t<.9?(a.lerp(r,m,h,(t-.6)/.3),i=s.worldPosition):(r=h.clone(),i=o.worldPosition),P.node.setWorldPosition(r),P.node.lookAt(i)},onComplete:function(){r.getScheduler().setTimeScale(1)}}).start();case 32:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),e.getSceneCamera=function(){var e=n(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var t=d.instance.levels.children[0];t&&e(t.getComponentInChildren(s))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.loadBullet=function(){var e=n(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){u.loadAsync(u.gameBundleName,"Prefabs/bullet",c).then((function(n){var t=l(n);e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}());m.cameraFollowDistance=5,m.cameraHeight=2,o._RF.pop()}}}));

System.register("chunks:///_virtual/CarColorsGlobalTypes.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){var n,l;r._RF.push({},"aa6c9oh8EtHlrhfkH0+s7i0","CarColorsGlobalTypes",void 0);e("CarTypes",function(e){return e[e.Single=0]="Single",e[e.Sedan=1]="Sedan",e[e.Bus=2]="Bus",e[e.Minivan=3]="Minivan",e}({})),e("CarDir",function(e){return e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e}({}));var a=e("CarColors",function(e){return e[e.Blue=1]="Blue",e[e.Green=2]="Green",e[e.Red=3]="Red",e[e.Cyan=4]="Cyan",e[e.Yellow=5]="Yellow",e[e.Pink=6]="Pink",e[e.Purple=7]="Purple",e[e.Brown=8]="Brown",e[e.Black=9]="Black",e[e.SpriteWhite=10]="SpriteWhite",e}({}));e("CarColorLog",((n={})[a.Blue]="蓝色",n[a.Green]="绿色",n[a.Red]="红色",n[a.Cyan]="青色",n[a.Yellow]="黄色",n[a.Pink]="粉色",n[a.Purple]="紫色",n[a.Brown]="棕色",n[a.Black]="黑色",n[a.SpriteWhite]="精灵白色",n)),e("CarColorHex",((l={})[a.Blue]="#1B24F0",l[a.Green]="#1BF01B",l[a.Red]="#F0241B",l[a.Cyan]="#9aeeca",l[a.Yellow]="#EBF32A",l[a.Pink]="#EB88BB",l[a.Purple]="#F32AF3",l[a.Brown]="#F5A71D",l[a.Black]="#968a6c",l[a.SpriteWhite]="#FFFFFF",l)),e("TYPE_ITEM",function(e){return e[e.REFRESH=1]="REFRESH",e[e.MAGNET=2]="MAGNET",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/DataModel.ts",["cc"],(function(r){var o,l;return{setters:[function(r){o=r.cclegacy,l=r._decorator}],execute:function(){var e,_;o._RF.push({},"e74e1M0Ah1NR58LWC1zzzhk","DataModel",void 0);var n=l.ccclass;l.property,r("DataModel",n("DataModel")(((_=function(){function r(){}return r.reset_lvl_color_index=function(){r.lvl_color_index=0},r.get_lvl_color=function(){var o=r.lvl_color_arr[r.lvl_color_index];return r.lvl_color_index+=1,r.lvl_color_index>=r.lvl_color_arr.length&&(r.lvl_color_index=0),o},r.get_new_group_index=function(){var o=1<<r.cur_group_index;return r.cur_group_index+=1,r.cur_group_index>31&&(r.cur_group_index=3),o},r}()).lvl_color_arr=[],_.lvl_color_index=0,_.cur_group_index=3,e=_))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./GameEvent.ts","./GameUtil.ts"],(function(t){var e,n,i,r,o,a,u,l,s,c,h,d,f,g,p,y,m,E,b,v,w,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){u=t.cclegacy,l=t._decorator,s=t.RigidBody,c=t.Node,h=t.Material,d=t.Collider,f=t.MeshRenderer,g=t.Tween,p=t.Component,y=t.tween,m=t.Vec3,E=t.Quat,b=t.isValid},function(t){v=t.EventDispatcher},function(t){w=t.GameEvent},function(t){M=t.GameUtil}],execute:function(){var R,z,F,T,D,C,H,I,x,B,L,_,S,A,G,N,V,k,U,j,K,O,P;u._RF.push({},"0f4f9NJuDVDXIj25U7eS5MZ","EnemyComponent",void 0);var J=l.ccclass,Q=l.property,X=l.executeInEditMode,Y=t("EnemyStatus",function(t){return t[t.LIFE=0]="LIFE",t[t.DIE=1]="DIE",t}({}));t("EnemyComponent",(R=J("EnemyComponent"),z=Q(s),F=Q(c),T=Q(c),D=Q(c),C=Q(c),H=Q(c),I=Q(c),x=Q(c),B=Q(h),L=Q(h),R(_=X((A=e((S=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"rigidBody",A,r(e)),i(e,"head",G,r(e)),i(e,"leftHand",N,r(e)),i(e,"rightHand",V,r(e)),i(e,"leftFoot",k,r(e)),i(e,"rightFoot",U,r(e)),i(e,"eyeRender",j,r(e)),i(e,"bodyRender",K,r(e)),i(e,"hitEyeMaterial",O,r(e)),i(e,"hitMaterial",P,r(e)),e.currentHp=0,e.status=Y.LIFE,e.speed=50,e.headshot=!1,e.tigger=null,e}n(e,t);var u=e.prototype;return u.onLoad=function(){this.tigger=this.node.getComponent(d)},u.start=function(){this.status=Y.LIFE,this.tigger=this.node.getComponent(d),this.rigidBody.isKinematic=!0,this.registerEvent()},u.registerEvent=function(){this.tigger.on("onTriggerEnter",this.onTriggerEnter,this),v.instance.on(w.EVENT_CAMERA_SHOOT_ENEMY,this.onShootEnemy,this)},u.unRegisterEvent=function(){this.tigger.off("onTriggerEnter",this.onTriggerEnter,this)},u.onTriggerEnter=function(t){},u.onShootEnemy=function(){var t=o(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.node!==e||this.status!==Y.LIFE){t.next=11;break}return this.status=Y.DIE,this.changeMaterial(),this.playHitTwitch(),t.next=6,M.delay(.7);case 6:return this.rigidBody.isKinematic=!1,this.rigidBody.isDynamic=!0,t.next=10,M.delay(.5);case 10:b(this.node)&&this.node.destroy();case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.changeMaterial=function(){if(this.bodyRender&&this.hitMaterial){var t=this.bodyRender.getComponent(f),e=this.eyeRender.getComponent(f);t&&(t.material=this.hitMaterial),e&&(e.material=this.hitEyeMaterial)}},u.playHitTwitch=function(){var t={times:5,duration:.12},e={times:6,duration:.1},n={times:6,duration:.15},i={times:5,duration:.13},r={times:5,duration:.13},o=function(t,e){for(var n=y(t),i=0;i<e.times;i++){var r=new m;t.rotation.getEulerAngles(r);var o=(10+10*Math.random())*(Math.random()>.5?1:-1),a=new m(r.x+o,r.y+o,r.z),u=new E;E.fromEuler(u,a.x,a.y,a.z),n.to(e.duration,{rotation:u})}return n};o(this.head,t).start(),o(this.leftHand,e).start(),o(this.rightHand,n).start(),o(this.leftFoot,i).start(),o(this.rightFoot,r).start()},u.onDestroy=function(){g.stopAllByTarget(this.node),this.unRegisterEvent()},e}(p)).prototype,"rigidBody",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(S.prototype,"head",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(S.prototype,"leftHand",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(S.prototype,"rightHand",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(S.prototype,"leftFoot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(S.prototype,"rightFoot",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(S.prototype,"eyeRender",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(S.prototype,"bodyRender",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(S.prototype,"hitEyeMaterial",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(S.prototype,"hitMaterial",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=S))||_)||_));u._RF.pop()}}}));

System.register("chunks:///_virtual/FrameBg.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.sys,r=t.Widget,s=t.Component}],execute:function(){var a;o._RF.push({},"17589Cxw6NCA54xxxwvk08d","FrameBg",void 0);var c=e.ccclass;e.property,t("FrameBg",c("FrameBg")(a=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onLoad=function(){if(i.isMobile){var t=this.node.addComponent(r);t.isAlignLeft=!0,t.isAlignRight=!0,t.isAlignTop=!0,t.isAlignBottom=!0,t.left=0,t.right=0,t.top=0,t.bottom=0,t.updateAlignment()}},e.start=function(){},e.update=function(t){},o}(s))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"a0710IA/bJN5K2C9LYXLCXm","GameEvent",void 0);var A=E("GameEvent",(function(){}));A.EVENT_UI_INITILIZE="EVENT_UI_INITILIZE",A.EVENT_GAME_START="EVENT_GAME_START",A.EVENT_GAME_ENTER="EVENT_GAME_ENTER",A.EVENT_GAME_BACK_HOME="EVENT_GAME_BACK_HOME",A.EVENT_GAME_PAUSE="EVENT_GAME_PAUSE",A.EVENT_REFRESH_PLAYER_INFO="EVENT_REFRESH_PLAYER_INFO",A.EVENT_INIT_REMAIN_ENEMY="EVENT_INIT_REMAIN_ENEMY",A.EVENT_LAST_ENEMY_KILLED="EVENT_LAST_ENEMY_KILLED",A.EVENT_GAME_COUNTDOWN_START="EVENT_GAME_COUNTDOWN_START",A.EVENT_PLAY_GUN_ANIMATION="EVENT_PLAY_GUN_ANIMATION",A.EVENT_CAMERA_AIM="EVENT_CAMERA_AIM",A.EVENT_CAMERA_RESET_AIM="EVENT_CAMERA_RESET_AIM",A.EVENT_CAMERA_HIDE_AIM="EVENT_CAMERA_HIDE_AIM",A.EVENT_CAMERA_HEADSHOT="EVENT_CAMERA_HEADSHOT",A.EVENT_FRAME_TOUCH_MOVE="EVENT_FRAME_TOUCH_MOVE",A.EVENT_CAMERA_SHOOT="EVENT_CAMERA_SHOOT",A.EVENT_CAMERA_SPLIT="EVENT_CAMERA_SPLIT",A.EVENT_CAMERA_SCREENSHOT="EVENT_CAMERA_SCREENSHOT",A.EVENT_CAMERA_SCREENSHOT_RADAR="EVENT_CAMERA_SCREENSHOT_RADAR",A.EVENT_CAMERA_SCREENSHOT_RADAR_CANCEL="EVENT_CAMERA_SCREENSHOT_RADAR_CANCEL",A.EVENT_CAMERA_SCREENSHOT_RADAR_LOCK="EVENT_CAMERA_SCREENSHOT_RADAR_LOCK",A.EVENT_CAMERA_SHOOT_TEXT="EVENT_CAMERA_SHOOT_TEXT",A.EVENT_CAMERA_SHOOT_ENEMY="EVENT_CAMERA_SHOOT_ENEMY",A.EVENT_CHECK_GAME_OVER="EVENT_CHECK_GAME_OVER",A.EVENT_BATTLE_SUCCESS_LEVEL_UP="EVENT_BATTLE_SUCCESS_LEVEL_UP",A.EVENT_BATTLE_FAIL_LEVEL_RESET="EVENT_BATTLE_FAIL_LEVEL_RESET",_._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtil.ts",["cc","./AliensGlobalInstance.ts"],(function(n){var t,r,e,i,o,a;return{setters:[function(n){t=n.cclegacy,r=n.v2,e=n.Rect,i=n.Vec2,o=n.Vec3},function(n){a=n.AliensGlobalInstance}],execute:function(){t._RF.push({},"c41c2anOIRLkbHSc6iWasZv","GameUtil",void 0);n("GameUtil",function(){function n(){}return n.formatToTimeString=function(n){var t=Math.floor(n/60),r=n%60;return String(t).padStart(2,"0")+":"+String(r).padStart(2,"0")},n.formatWeight=function(n){return n<1e3?n+"KG":Math.floor(n/1e3*100)/100+"T"},n.hexToRGBA=function(n,t){return void 0===t&&(t=255),3===(n=n.replace(/^#/,"")).length&&(n=n.split("").map((function(n){return n+n})).join("")),{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:t}},n.getWorldPositionAsVec2=function(n){var t=n.getWorldPosition().clone();return r(t.x,t.y)},n.calculateRayEnd=function(n,t){var e=n.angle,i=r(0,0);if(-90===e)i=r(1,0);else if(0===e)i=r(0,1);else if(90===e)i=r(-1,0);else if(180===e)i=r(0,-1);else{var o=e-90;i=r(-Math.cos(o*(Math.PI/180)),Math.sin(-o*(Math.PI/180)))}return this.getWorldPositionAsVec2(n).add(i.multiplyScalar(t))},n.isAABBIntersecting=function(n,t){return!(n.xMax<t.xMin||n.xMin>t.xMax||n.yMax<t.yMin||n.yMin>t.yMax)},n.isPointInPolygon=function(n,t){for(var r=!1,e=0,i=t.length-1;e<t.length;i=e++){var o=t[e].x,a=t[e].y,l=t[i].x,s=t[i].y;a>n.y!=s>n.y&&n.x<(l-o)*(n.y-a)/(s-a)+o&&(r=!r)}return r},n.isCircleIntersectingLine=function(n,t,r,e){var i=e.subtract(r),o=n.subtract(r).dot(i.normalize()),a=r.add(i.normalize().multiplyScalar(o));return n.subtract(a).length()<=t},n.getCircleAABB=function(n){var t=n.radius,r=n.worldPosition,i=r.x-t,o=r.y-t,a=2*t;return new e(i,o,a,a)},n.getPolygonAABB=function(n){for(var t=n.worldPoints,r=t[0].x,i=t[0].x,o=t[0].y,a=t[0].y,l=1;l<t.length;l++){var s=t[l];s.x<r&&(r=s.x),s.x>i&&(i=s.x),s.y<o&&(o=s.y),s.y>a&&(a=s.y)}return new e(r,o,i-r,a-o)},n.isPolygonAndCircleIntersecting=function(n,t){var r=new i(t.node.worldPosition.x,t.node.worldPosition.y),e=t.radius;if(this.isPointInPolygon(r,n.worldPoints))return!0;for(var o=n.worldPoints,a=0;a<o.length;a++){var l=o[a],s=o[(a+1)%o.length];if(this.isCircleIntersectingLine(r,e,l,s))return!0}return!1},n.worldToScreenLocal=function(n,t,r){if(n&&n.worldPosition){var e=null!=r?r:a.instance.camera,i=new o;return e.convertToUINode(n.worldPosition.clone(),t,i),i}},n.delay=function(n){return new Promise((function(t){return setTimeout(t,1e3*n)}))},n.getLastNumber=function(n){var t=n.match(/(\d+)$/);return t?parseInt(t[1],10):null},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GunComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./GameEvent.ts"],(function(n){var t,o,i,e,a,r,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator,e=n.Animation,a=n.Component},function(n){r=n.EventDispatcher},function(n){u=n.GameEvent}],execute:function(){var c;o._RF.push({},"2d900170r9IaYcEBvyODrgE","GunComponent",void 0);var s=i.ccclass;i.property,n("GunComponent",s("GunComponent")(c=function(n){function o(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this).gunAnimation=null,t}t(o,n);var i=o.prototype;return i.start=function(){this.gunAnimation=this.node.getComponent(e),r.instance.on(u.EVENT_PLAY_GUN_ANIMATION,this.playGunAnimation,this)},i.playGunAnimation=function(){this.gunAnimation&&this.gunAnimation.play()},o}(a))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/HeadShotTipComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./GameEvent.ts"],(function(t){var n,e,o,i,c,r,a,h;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.UIOpacity,c=t.tween,r=t.Component},function(t){a=t.EventDispatcher},function(t){h=t.GameEvent}],execute:function(){var s;e._RF.push({},"d033ac4petPgY2dLA6GerQf","HeadShotTipComponent",void 0);var p=o.ccclass;o.property,t("HeadTipComponent",p("HeadTipComponent")(s=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._children=[],n}n(e,t);var o=e.prototype;return o.onLoad=function(){a.instance.on(h.EVENT_CAMERA_HEADSHOT,this.showTip,this)},o.start=function(){this._children=this.node.children,this._children.forEach((function(t){return t.active=!1}))},o.showTip=function(){if(!(this._children.length<2)){var t=Math.floor(Math.random()*this._children.length),n=this._children[t];n.active=!0;var e=n.getComponent(i)||n.addComponent(i);e.opacity=255,c(e).delay(.5).to(.3,{opacity:0}).call((function(){n.active=!1})).start()}},o.update=function(t){},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/HomeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserMgr.ts","./GameUtil.ts","./tgx.ts","./UIDef.ts","./EventDispatcher.ts","./GameEvent.ts","./GlobalConfig.ts","./UIMgr.ts"],(function(e){var t,i,r,n,o,s,a,u,h,l,p,c,w,m,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Label,u=e.Node,h=e.Component},function(e){l=e.UserManager},function(e){p=e.GameUtil},null,function(e){c=e.UI_PowerUp},function(e){w=e.EventDispatcher},function(e){m=e.GameEvent},function(e){g=e.GlobalConfig},function(e){f=e.UIMgr}],execute:function(){var T,v,C,M,b,U,I;o._RF.push({},"b183368DuJMTLuhnTYFHwaJ","HomeUI",void 0);var P=s.ccclass,d=s.property;e("HomeUI",(T=P("HomeUI"),v=d(a),C=d(a),T((U=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"lbPower",U,n(t)),r(t,"lbTimeCount",I,n(t)),t.powerRecoverTime=1,t.powerMax=1,t.powerCurrent=0,t.remainingTime=0,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.registerListener()},o.onDestroy=function(){this.unregisterListener()},o.start=function(){var e=l.instance.userModel,t=e.powerRecoverTime,i=e.powerMax,r=e.powerCurrent;this.powerRecoverTime=t,g.isDebug&&(this.powerRecoverTime=30),this.powerMax=i,this.powerCurrent=r;var n=localStorage.getItem("lastLeaveTime");if(n){var o=parseInt(n),s=Date.now(),a=Math.floor((s-o)/1e3),u=Math.floor(a/this.powerRecoverTime);this.powerCurrent=Math.min(this.powerCurrent+u,this.powerMax),this.powerCurrent<this.powerMax?this.remainingTime=this.powerRecoverTime-a%this.powerRecoverTime:this.remainingTime=0,console.log("离线恢复: "+u+"点体力, 当前体力: "+this.powerCurrent+"/"+this.powerMax)}else this.remainingTime=this.powerRecoverTime;localStorage.setItem("lastLeaveTime",Date.now().toString()),this.updatePowerUI()},o.registerListener=function(){w.instance.on(m.EVENT_REFRESH_PLAYER_INFO,this.updatePowerUI,this);var e=this.node.getChildByPath("Power/BtnPowerUp");e&&e.on(u.EventType.TOUCH_END,this.onClickPowerUp,this)},o.update=function(e){this.lbTimeCount&&this.lbPower&&(this.powerCurrent>=this.powerMax?this.lbTimeCount.string="Max":(this.remainingTime-=e,this.remainingTime<=0&&(this.powerCurrent=Math.min(this.powerCurrent+1,this.powerMax),this.remainingTime=this.powerRecoverTime,this.updatePowerUI()),this.lbTimeCount.string=p.formatToTimeString(Math.ceil(this.remainingTime))))},o.updatePowerUI=function(){if(this.lbPower){var e=l.instance.userModel.powerCurrent;this.lbPower.string=e.toString(),e>=this.powerMax&&(this.lbTimeCount.string="Max")}},o.onClickPowerUp=function(){f.inst.isShowing(c)||f.inst.showUI(c)},o.unregisterListener=function(){w.instance.off(m.EVENT_REFRESH_PLAYER_INFO,this.updatePowerUI,this)},t}(h)).prototype,"lbPower",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(b.prototype,"lbTimeCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=b))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/Layout_BattleGambit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,a,i,o,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,l=t.Button,u=t.Component}],execute:function(){var c,s,b,p,y,f,_;i._RF.push({},"aec841R8CRGSokO9lxabt3I","Layout_BattleGambit",void 0);var g=o.ccclass,m=o.property;t("Layout_BattleGambit",(c=g("Layout_BattleGambit"),s=m(l),b=m(l),c((f=e((y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"btn_get",f,a(e)),r(e,"btn_back",_,a(e)),e}return n(e,t),e}(u)).prototype,"btn_get",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(y.prototype,"btn_back",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Layout_BattleResult.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,l,i,r,a,n,o,u,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,o=e.Button,u=e.Node,b=e.Label,p=e.Component}],execute:function(){var c,s,y,f,m,R,d,g,w,z,h,_,B,L,N,v,H,D,T;a._RF.push({},"24a1aVlAVBATpkR3PjyDH79","Layout_BattleResult",void 0);var x=n.ccclass,A=n.property;e("Layout_BattleResult",(c=x("Layout_BattleResult"),s=A(o),y=A(o),f=A(u),m=A(u),R=A(b),d=A(b),g=A(b),w=A(b),c((_=t((h=function(e){function t(){for(var t,l=arguments.length,a=new Array(l),n=0;n<l;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"btNext",_,r(t)),i(t,"btRestart",B,r(t)),i(t,"winNode",L,r(t)),i(t,"loseNode",N,r(t)),i(t,"lbRemain",v,r(t)),i(t,"lbTime",H,r(t)),i(t,"lbHeadShot",D,r(t)),i(t,"lbHitRate",T,r(t)),t}return l(t,e),t}(p)).prototype,"btNext",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(h.prototype,"btRestart",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(h.prototype,"winNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(h.prototype,"loseNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(h.prototype,"lbRemain",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(h.prototype,"lbTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(h.prototype,"lbHeadShot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(h.prototype,"lbHitRate",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=h))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/Layout_PowerUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o,i,a,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,u=e.Button,c=e.Component}],execute:function(){var l,p,s,b,y,f,_;i._RF.push({},"5be41mmIdtBqa32ze2JR/he","Layout_PowerUp",void 0);var g=a.ccclass,h=a.property;e("Layout_PowerUp",(l=g("Layout_PowerUp"),p=h(u),s=h(u),l((f=t((y=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"btn_get",f,o(t)),n(t,"btn_back",_,o(t)),t}return r(t,e),t}(c)).prototype,"btn_get",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(y.prototype,"btn_back",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/Layout_TimeExpan.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,i,a,o,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,u=t.Button,c=t.Component}],execute:function(){var l,p,s,b,f,y,_;a._RF.push({},"fa6a27H2wtJ/5zHV+cSNhaZ","Layout_TimeExpan",void 0);var g=o.ccclass,h=o.property;t("Layout_TimeExpan",(l=g("Layout_TimeExpan"),p=h(u),s=h(u),l((y=e((f=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"btn_get",y,i(e)),r(e,"btn_back",_,i(e)),e}return n(e,t),e}(c)).prototype,"btn_get",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(f.prototype,"btn_back",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./GameEvent.ts","./AliensGlobalInstance.ts","./ScreenShotComponent.ts","./RadarComponent.ts","./tgx.ts","./UIDef.ts","./TimerMgr.ts","./LevelMgr.ts","./BulletComponent.ts","./AliensAudioMgr.ts","./UserMgr.ts","./GlobalConfig.ts","./AdvertMgr.ts","./UIMgr.ts"],(function(t){var e,n,i,o,a,r,s,c,h,l,u,p,m,_,f,d,T,E,g,v,A,y,C,R,M,N,w,b,S,x,L,O,I,P,U,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,h=t.Camera,l=t.CCFloat,u=t.Vec3,p=t.Label,m=t.input,_=t.Input,f=t.Quat,d=t.Tween,T=t.Component,E=t.view,g=t.geometry,v=t.PhysicsSystem,A=t.math,y=t.tween},function(t){C=t.EventDispatcher},function(t){R=t.GameEvent},function(t){M=t.AliensGlobalInstance},function(t){N=t.ScreenShotComponent},function(t){w=t.RadarComponent},null,function(t){b=t.UI_BattleGambit},function(t){S=t.TimerMgr},function(t){x=t.LevelManager},function(t){L=t.CAMERA_SPLIT_DURATION},function(t){O=t.AliensAudioMgr},function(t){I=t.UserManager},function(t){P=t.GlobalConfig},function(t){U=t.AdvertMgr},function(t){D=t.UIMgr}],execute:function(){var V,z,k,H,G,Z,F,Y,B,K,Q,W,X;s._RF.push({},"251b1LD9rlAbJPtECp8FoYX","LevelAction",void 0);var j=c.ccclass,J=c.property,q=t("ANIMATION_DURATION",.5);t("LevelAction",(V=j("LevelAction"),z=J(h),k=J({type:l,displayName:"拉近镜头的距离"}),H=J({type:l,displayName:"旋转速度"}),G=J({type:l,displayName:"水平旋转限制角度"}),Z=J({type:l,displayName:"垂直旋转限制角度"}),V((B=e((Y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"camera",B,o(e)),e._renderTex=null,e.targetNode=null,e.enemyTotal=0,i(e,"zoomDistance",K,o(e)),i(e,"rotateSpeed",Q,o(e)),e._rotationTween=null,i(e,"horizontalLimit",W,o(e)),i(e,"verticalLimit",X,o(e)),e._initialRotation=new u(0,0,0),e._initialPosition=new u,e._isZoomed=!1,e._isZooming=!1,e._targetRotation=new u,e._smoothFactor=.5,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.camera.node.rotation.getEulerAngles(this._initialRotation),this._initialPosition=this.camera.node.position.clone(),this.registerEvent()},s.start=function(){P.isDebug||U.instance.showInterstitial(),this.initilizeUI(),this.saveCameraState(),this.enemyTotal=this.node.getChildByName("Ets").children.length,C.instance.emit(R.EVENT_INIT_REMAIN_ENEMY,this.enemyTotal)},s.initilizeUI=function(){var t=x.instance.levelModel.level,e=M.instance.renderNode,n=M.instance.aimTarget,i=M.instance.radarNode,o=M.instance.battleUI;M.instance.lbPropTips;e.active=!1,n.active=!1,i.active=!1,o.active=!0,1==t?this.showPropTips(!0):this.showPropTips(!1),D.inst.isShowing(b)||D.inst.showUI(b),this.updateLvlTitle()},s.updateLvlTitle=function(){var t=M.instance.titleLvl,e=x.instance.levelModel.level;t.getChildByName("LbLvl").getComponent(p).string=""+e},s.registerEvent=function(){m.on(_.EventType.TOUCH_START,this._onTouchStart,this),m.on(_.EventType.TOUCH_MOVE,this._onTouchMove,this),m.on(_.EventType.TOUCH_END,this._onTouchEnd,this),m.on(_.EventType.TOUCH_CANCEL,this._onTouchEnd,this),C.instance.on(R.EVENT_CAMERA_AIM,this.onAimTarget,this),C.instance.on(R.EVENT_CAMERA_RESET_AIM,this.onResetAimTarget,this),C.instance.on(R.EVENT_CAMERA_SHOOT,this.onShoot,this),C.instance.on(R.EVENT_CAMERA_SCREENSHOT_RADAR_LOCK,this.onCameraToTarget,this),C.instance.on(R.EVENT_FRAME_TOUCH_MOVE,this.frameTouch,this)},s.unRegisterEvent=function(){m.off(_.EventType.TOUCH_START,this._onTouchStart,this),m.off(_.EventType.TOUCH_MOVE,this._onTouchMove,this),m.off(_.EventType.TOUCH_END,this._onTouchEnd,this),m.off(_.EventType.TOUCH_CANCEL,this._onTouchEnd,this),C.instance.off(R.EVENT_CAMERA_AIM,this.onAimTarget,this),C.instance.off(R.EVENT_CAMERA_RESET_AIM,this.onResetAimTarget,this),C.instance.off(R.EVENT_CAMERA_SHOOT,this.onShoot,this),C.instance.off(R.EVENT_CAMERA_SCREENSHOT_RADAR_LOCK,this.onCameraToTarget,this)},s.onAimTarget=function(){var t=a(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isZoomed){t.next=2;break}return t.abrupt("return");case 2:this._isZooming=!0,e=I.instance.userModel.magnifyRate,P.isDebug&&(e=.1),n=new u(0,0,-e),u.transformQuat(n,n,this.camera.node.rotation),u.scaleAndAdd(this.camera.node.position,this._initialPosition,n,this.zoomDistance),this.camera.node.setPosition(this.camera.node.position),this._isZoomed=!0,this._isZooming=!1;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onResetAimTarget=function(){if(this._isZoomed){var t=new u;this.camera.node.rotation.getEulerAngles(t),this.camera.node.setPosition(this._initialPosition);var e=new f;f.fromEuler(e,t.x,t.y,0),this.camera.node.setRotation(e),this._isZoomed=!1}},s.onShoot=function(){var t=a(r().mark((function t(){var e,n,i,o,a,s,c,h,l=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=E.getVisibleSize(),n=.5*e.width*E.getScaleX(),i=.5*e.height*E.getScaleY(),o=new g.Ray,this.camera.screenPointToRay(n,i,o),4294967295,1e3,!0,!v.instance.raycast(o,4294967295,1e3,true)){t.next=21;break}a=v.instance.raycastResults,s=!1,c=r().mark((function t(){var e,n,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a[h],n=e.collider.node,i=function(t){if(!s){x.instance.levelModel.hitCount++;var e=M.instance.levels.children[0].getChildByName("Ets").children.length,i=t?n.parent:n;e>1?(O.playOneShot(O.getMusicIdName(5),1),C.instance.emit(R.EVENT_CAMERA_SHOOT_ENEMY,i)):(C.instance.emit(R.EVENT_LAST_ENEMY_KILLED),S.inst.pauseCountdown(),C.instance.emit(R.EVENT_CAMERA_SPLIT,i),l.scheduleOnce((function(){C.instance.emit(R.EVENT_CAMERA_SHOOT_ENEMY,i)}),L)),s=!0}},16!=e.collider.getGroup()){t.next=9;break}return l.showPropTips(!1),x.instance.levelModel.headshotCount++,i(!0),C.instance.emit(R.EVENT_CAMERA_HEADSHOT),t.abrupt("return",1);case 9:8!=e.collider.getGroup()||s||(l.showPropTips(!1),i(!1));case 10:case"end":return t.stop()}}),t)})),h=0;case 14:if(!(h<a.length)){t.next=21;break}return t.delegateYield(c(),"t0",16);case 16:if(!t.t0){t.next=18;break}return t.abrupt("break",21);case 18:h++,t.next=14;break;case 21:x.instance.levelModel.shootCount++,C.instance.emit(R.EVENT_PLAY_GUN_ANIMATION);case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onCameraToTarget=function(){var t=a(r().mark((function t(e){var n,i,o,a,s,c,h,l,p=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.camera,e&&n){t.next=3;break}return t.abrupt("return");case 3:i=new u,e.getWorldPosition(i),o=new u,n.node.getWorldPosition(o),a=new u,u.subtract(a,i,o),a.normalize(),s=A.toDegree(Math.atan2(-a.x,-a.z)),c=A.toDegree(Math.asin(a.y)),h=n.node.eulerAngles.clone(),l={pitch:h.x,yaw:h.y},this._isZoomed=!0,y(l).to(q,{pitch:c,yaw:s},{easing:"smooth",onUpdate:function(){n.node.setRotationFromEuler(l.pitch,l.yaw,0)},onComplete:function(){p._isZoomed=!1}}).start();case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.showPropTips=function(t){M.instance.lbPropTips.active=t},s._onTouchStart=function(t){var e=M.instance.renderNode.getComponent(w);e&&e.unlockPositionUpdate()},s.frameTouch=function(t){this._onTouchMove(t)},s._onTouchMove=function(){var t=a(r().mark((function t(e){var n,i,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isZooming&&this.camera){t.next=2;break}return t.abrupt("return");case 2:return n=e.getDelta(),i=new u,this.camera.node.rotation.getEulerAngles(i),this._targetRotation.set(i),this._targetRotation.y-=n.x*this.rotateSpeed,this._targetRotation.x+=n.y*this.rotateSpeed,this._targetRotation.y=Math.max(this._initialRotation.y-this.horizontalLimit,Math.min(this._initialRotation.y+this.horizontalLimit,this._targetRotation.y)),this._targetRotation.x=Math.max(this._initialRotation.x-this.verticalLimit,Math.min(this._initialRotation.x+this.verticalLimit,this._targetRotation.x)),i.x=A.lerp(i.x,this._targetRotation.x,this._smoothFactor),i.y=A.lerp(i.y,this._targetRotation.y,this._smoothFactor),o=new f,f.fromEuler(o,i.x,i.y,0),this.camera.node.setRotation(o),t.next=17,this.saveCameraState();case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.saveCameraState=function(){var t=a(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.camera.node.worldPosition.clone(),n=this.camera.node.eulerAngles.clone(),M.instance.renderNode.getComponent(N).saveCameraState(e,n);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onTouchEnd=function(){var t=M.instance.renderNode.getComponent(w);t&&t.unlockPositionUpdate()},s.onDestroy=function(){d.stopAllByTarget(this.node),this.unRegisterEvent(),this._renderTex&&(this._renderTex.destroy(),this._renderTex=null)},e}(T)).prototype,"camera",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(Y.prototype,"zoomDistance",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Q=e(Y.prototype,"rotateSpeed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),W=e(Y.prototype,"horizontalLimit",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),X=e(Y.prototype,"verticalLimit",[Z,J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),F=Y))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./EventDispatcher.ts","./GlobalConfig.ts","./GameEvent.ts","./LevelModel.ts","./GameUtil.ts","./AliensGlobalInstance.ts"],(function(e){var t,n,r,l,a,s,i,o,c,u,v,h,d,f,p,L;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,a=e._decorator,s=e.sys,i=e.assetManager,o=e.Prefab,c=e.instantiate},function(e){u=e.resLoader},function(e){v=e.EventDispatcher},function(e){h=e.GlobalConfig},function(e){d=e.GameEvent},function(e){f=e.LevelModel},function(e){p=e.GameUtil},function(e){L=e.AliensGlobalInstance}],execute:function(){var m,g;l._RF.push({},"d8df8/0FEdJ8ItD7vCAkvpi","LevelMgr",void 0);var M=a.ccclass;a.property,e("LevelManager",M("LevelManager")(((g=function(){function e(){this.levelModel=null,this.currentLevel=null,this.randomLevel=0}var l=e.prototype;return l.initilizeModel=function(){this.levelModel=new f,this.preloadLevel(),this.registerEvent()},l.registerEvent=function(){v.instance.on(d.EVENT_BATTLE_FAIL_LEVEL_RESET,this.restartLevelHandler,this)},l.loadAsyncLevel=function(){var e=n(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){i.getBundle(u.gameBundleName)||(console.error("module_nut is null!"),n()),console.log("加载的level:",t),u.loadAsync(u.gameBundleName,"Prefabs/Levels/level_"+t,o).then((function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.preloadLevel=function(){var e=n(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.getBundle(u.gameBundleName),n=1;n<=h.levelTotal;n++)t.preload("Prefabs/Levels/level_"+n,o,null,(function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.levelUpHandler=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clearLevelData(),this.upgradeLevel(),e.next=4,this.gameStart();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.restartLevelHandler=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clearLevelData(),e.next=3,this.gameStart();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.gameStart=function(){var e=n(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.levelModel){e.next=2;break}return e.abrupt("return");case 2:return t=this.levelModel.level,e.next=5,this.loadLevel(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.clearLevelData=function(){this.levelModel.clearLevel()},l.upgradeLevel=function(e){if(void 0===e&&(e=1),this.levelModel.level+=e,s.localStorage.setItem("alient_level",this.levelModel.level.toString()),this.levelModel.level>h.levelTotal){for(var t=this.levelModel.randomLevelList,n=Math.floor(Math.random()*t.length),r=t[n];r===this.randomLevel&&t.length>1;)r=t[n=Math.floor(Math.random()*t.length)];this.randomLevel=p.getLastNumber(r.toString()),console.log("随机真实关卡level: "+this.randomLevel),this.levelModel.setLevelConfig(Number(this.randomLevel))}else this.levelModel.levelConfig.init(this.levelModel.level);v.instance.emit(d.EVENT_BATTLE_SUCCESS_LEVEL_UP)},l.loadLevel=function(){var e=n(r().mark((function e(t){var n,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!(this.levelModel.level>h.levelTotal)){e.next=8;break}return console.log("随机关卡加载 this.randomLevel: "+this.randomLevel),e.next=5,this.loadAsyncLevel(this.randomLevel);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,this.loadAsyncLevel(t);case 10:n=e.sent;case 11:if(this.currentLevel&&this.currentLevel.destroy(),n){e.next=15;break}return console.log("关卡预设不存在 level: "+t+"."),e.abrupt("return");case 15:return l=L.instance.levels,this.currentLevel=c(n),l.removeAllChildren(),l.addChild(this.currentLevel),e.abrupt("return",this.currentLevel);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,m=g))||m);l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelModel.ts",["cc","./JsonUtil.ts","./Tablelevels_config.ts","./GlobalConfig.ts","./GameUtil.ts"],(function(e){var t,i,l,s,n,o;return{setters:[function(e){t=e.cclegacy,i=e.sys},function(e){l=e.JsonUtil},function(e){s=e.Tablelevels_config},function(e){n=e.GlobalConfig},function(e){o=e.GameUtil}],execute:function(){t._RF.push({},"2655e5Cq2JG0qLO/zyZVxzy","LevelModel",void 0);e("LevelModel",function(){function e(){if(this.levelConfig=void 0,this.levelTime=0,this.levelTimeUsed=0,this.levelReward=0,this.levelMonsterCount=0,this.shootCount=0,this.hitCount=0,this.headshotCount=0,this.level=1,this.randomLevelList=[],this.isWin=!1,this.isEnd=!1,this.levelConfig=new s,this.getRandomLevelList(),n.isDebug)this.level=n.initilizeLevel;else{var e=i.localStorage.getItem("alient_level");if(e)if(e>n.levelTotal){var t=this.randomLevelList[Math.floor(Math.random()*this.randomLevelList.length-1)];t=o.getLastNumber(t.toString()),this.level=t}else this.level=parseInt(e);else this.level=1}this.setLevelConfig(this.level)}var t=e.prototype;return t.setLevelConfig=function(e){this.levelConfig.init(e),this.levelTime=this.levelConfig.eliminate,this.levelReward=this.levelConfig.target},t.getRandomLevelList=function(){var e=l.get(s.TableName);e||console.warn("Get level table is fail!"),this.randomLevelList=Object.values(e).filter((function(e){return 1==e.random})).map((function(e){return e.level})),console.log("随机关卡列表:",this.randomLevelList)},t.clearLevel=function(){this.isWin=!1,this.isEnd=!1,this.shootCount=0,this.hitCount=0,this.headshotCount=0,this.levelTimeUsed=0,this.levelMonsterCount=0},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/LineDrawer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,t,i,o,s,a,c,h,l;return{setters:[function(e){r=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,i=e.MeshRenderer,o=e.Material,s=e.Color,a=e.Mesh,c=e.utils,h=e.gfx,l=e.Component}],execute:function(){var u;n._RF.push({},"c3673wZ235MSqHCRMXkcuZS","LineDrawer",void 0);var d=t.ccclass;e("LineDrawer",d("LineDrawer")(u=function(e){function n(){for(var r,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(r=e.call.apply(e,[this].concat(t))||this)._meshRenderer=null,r}r(n,e);var t=n.prototype;return t.onLoad=function(){this._meshRenderer=this.getComponent(i)||this.node.addComponent(i);var e=new o;e.initialize({effectName:"unlit"}),this._meshRenderer.material=e},t.drawLine=function(e,r,n){if(void 0===n&&(n=s.RED),this._meshRenderer){var t=[e.x,e.y,e.z,r.x,r.y,r.z],i=[n.r,n.g,n.b,n.a,n.r,n.g,n.b,n.a],o=new a;c.createMesh({positions:t,colors:i,primitiveMode:h.PrimitiveMode.LINE_LIST},o),this._meshRenderer.mesh=o}},t.clear=function(){this._meshRenderer&&(this._meshRenderer.mesh=null)},n}(l))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/module_aliens",["./Layout_BattleGambit.ts","./UI_BattleGambit_Impl.ts","./Layout_PowerUp.ts","./UI_PowerUp_Impl.ts","./Layout_BattleResult.ts","./UI_BattleResult_Impl.ts","./Layout_TimeExpan.ts","./UI_TimeExpan_Impl.ts","./RoosterAliens.ts","./AliensGlobalInstance.ts","./BattleUI.ts","./CamerSegmentation.ts","./CarColorsGlobalTypes.ts","./AimTargetComponent.ts","./BulletComponent.ts","./ButtonComponent.ts","./EnemyComponent.ts","./FrameBg.ts","./GunComponent.ts","./HeadShotTipComponent.ts","./RadarComponent.ts","./RemainComponent.ts","./ScreenShotComponent.ts","./TauntComponent.ts","./GameEvent.ts","./GameUtil.ts","./HomeUI.ts","./LevelAction.ts","./LineDrawer.ts","./AliensAudioMgr.ts","./LevelMgr.ts","./TimerMgr.ts","./UserMgr.ts","./DataModel.ts","./LevelModel.ts","./MusicConfigModel.ts","./UserModel.ts","./ResourcePool.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MusicConfigModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tablemusic_config.ts"],(function(n){var i,t,e;return{setters:[function(n){i=n.createClass},function(n){t=n.cclegacy},function(n){e=n.Tablemusic_config}],execute:function(){t._RF.push({},"807a0fEbhdDWpvUekcCKkdZ","MusicConfigModel",void 0);n("MusicConfigModel",function(){function n(n){void 0===n&&(n=1),this.config=void 0,this.id=void 0,this.id=n,this.config=new e}return n.prototype.getNameById=function(n){return void 0===n&&(n=1),this.config.init(n),this.name},i(n,[{key:"content",get:function(){return this.config.content}},{key:"name",get:function(){return this.config.name}}]),n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RadarComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./GameEvent.ts","./AliensGlobalInstance.ts","./GameUtil.ts","./AliensAudioMgr.ts"],(function(t){var e,n,i,o,a,r,s,c,u,l,d,h,p,f,_,E,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Node,l=t.UIOpacity,d=t.tween,h=t.Camera,p=t.Component},function(t){f=t.EventDispatcher},function(t){_=t.GameEvent},function(t){E=t.AliensGlobalInstance},function(t){v=t.GameUtil},function(t){g=t.AliensAudioMgr}],execute:function(){var N,m,R,A,C;s._RF.push({},"11d4eQusltJrYUe1n42hagN","RadarComponent",void 0);var y=c.ccclass,w=c.property;t("RadarComponent",(N=y("RadarComponent"),m=w(u),N((C=e((A=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"activeNode",C,o(e)),e._tween=null,e._targetNode=null,e._shouldUpdatePosition=!0,e._index=0,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.registerEvent()},s.onEnable=function(){this.activeNode.active=!0,this.startFadeAnimation()},s.startFadeAnimation=function(){if(this.activeNode){this._tween&&this._tween.stop();var t=this.activeNode.getComponent(l);t.opacity=255,this._tween=d(t).to(.5,{opacity:0}).to(.5,{opacity:255}).union().repeatForever().start()}},s.registerEvent=function(){f.instance.on(_.EVENT_CAMERA_SCREENSHOT_RADAR,this.onRadar,this),f.instance.on(_.EVENT_CAMERA_SHOOT_ENEMY,this.cancelRadar,this),f.instance.on(_.EVENT_LAST_ENEMY_KILLED,this.cancelRadar,this)},s.unregisterEvent=function(){f.instance.off(_.EVENT_CAMERA_SCREENSHOT_RADAR,this.onRadar,this),f.instance.off(_.EVENT_CAMERA_SHOOT_ENEMY,this.cancelRadar,this),f.instance.off(_.EVENT_LAST_ENEMY_KILLED,this.cancelRadar,this)},s.onRadar=function(){var t=a(r().mark((function t(){var e,n,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.playOneShot(g.getMusicIdName(8),1),this.node.active=!0,this._shouldUpdatePosition=!0,t.next=5,this.getSceneCamera();case 5:return e=t.sent,t.next=8,this.getTargetNode();case 8:this._targetNode=t.sent,this._targetNode&&(n=E.instance.battleUI,i=v.worldToScreenLocal(this._targetNode,n,e),this.node.setPosition(i),f.instance.emit(_.EVENT_CAMERA_SCREENSHOT_RADAR_LOCK,this._targetNode));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.cancelRadar=function(){console.log("取消雷达"),this.node.active=!1,this._shouldUpdatePosition=!1},s.lockPositionUpdate=function(){this._shouldUpdatePosition=!1},s.unlockPositionUpdate=function(){this._shouldUpdatePosition=!0},s.update=function(t){if(this._shouldUpdatePosition&&this._targetNode){var e=E.instance.battleUI,n=this.node.scene.getComponentInChildren(h),i=v.worldToScreenLocal(this._targetNode,e,n);this.node.setPosition(i)}},s.getSceneCamera=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var n=E.instance.levels.children[0];n&&t(n.getComponentInChildren(h))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.getTargetNode=function(){var t=a(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var i=E.instance.levels.children[0].getChildByName("Ets");console.log("剩余的外星人数量:"+i.children.length),e._index++,e._index>=i.children.length&&(e._index=0),t(i.children[e._index])})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.onDestroy=function(){if(this._tween&&(this._tween.stop(),this._tween=null),this.activeNode){var t=this.activeNode.getComponent(l);t&&(t.opacity=255)}this.unregisterEvent()},e}(p)).prototype,"activeNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=A))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/RemainComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./GameEvent.ts","./LevelMgr.ts","./UIDef.ts","./tgx.ts","./UIMgr.ts"],(function(n){var t,e,i,o,a,r,s,u,c,l,h,m,f,C;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Prefab,u=n.instantiate,c=n.Component},function(n){l=n.EventDispatcher},function(n){h=n.GameEvent},function(n){m=n.LevelManager},function(n){f=n.UI_BattleResult},null,function(n){C=n.UIMgr}],execute:function(){var p,d,v,E,R;a._RF.push({},"b5299J3WyJNPZyCmdsP8CpD","RemainComponent",void 0);var _=r.ccclass,M=r.property;n("RemainComponent",(p=_("RemainComponent"),d=M(s),p((R=t((E=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"remainPrefab",R,o(t)),t.remainCount=0,t}e(t,n);var a=t.prototype;return a.onLoad=function(){l.instance.on(h.EVENT_INIT_REMAIN_ENEMY,this.initializeRemainCount,this),l.instance.on(h.EVENT_CAMERA_SHOOT_ENEMY,this.reduceCount,this)},a.start=function(){},a.initializeRemainCount=function(n){this.remainCount=n,this.initRemainCount(this.remainCount),m.instance.levelModel.levelMonsterCount=this.remainCount},a.initRemainCount=function(n){this.remainCount=n,this.updateRemainCount()},a.updateRemainCount=function(){this.node.removeAllChildren();for(var n=0;n<this.remainCount;n++){var t=u(this.remainPrefab);this.node.addChild(t)}},a.reduceCount=function(){if(this.remainCount<=0)return!1;var n=this.node.children[this.remainCount-1];if(n){var t=n.getChildByName("Death"),e=n.getChildByName("Active");t&&e&&(t.active=!0,e.active=!1)}(this.remainCount--,this.remainCount<=0)&&(m.instance.levelModel.isWin=!0,C.inst.isShowing(f)||C.inst.showUI(f));return!0},a.onDestroy=function(){l.instance.off(h.EVENT_INIT_REMAIN_ENEMY,this.initializeRemainCount,this),l.instance.off(h.EVENT_CAMERA_SHOOT_ENEMY,this.reduceCount,this)},t}(c)).prototype,"remainPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=E))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcePool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,r,t;return{setters:[function(e){o=e.createClass},function(e){r=e.cclegacy,t=e._decorator}],execute:function(){var c,n;r._RF.push({},"ec9c4v/u0pDLZmbQWagshcg","ResourcePool",void 0);var s=t.ccclass;t.property,e("ResourcePool",s("ResourcePool")(((n=function(){function e(){this.prefab_pool={}}var r=e.prototype;return r.set_prefab=function(e,o){this.prefab_pool[e]=o},r.get_prefab=function(e){return this.prefab_pool[e]},o(e,null,[{key:"instance",get:function(){return this.rp||(this.rp=new e,window.rp=this.rp),this.rp}}]),e}()).rp=void 0,c=n))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/RoosterAliens.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./LevelMgr.ts","./AliensAudioMgr.ts","./AliensGlobalInstance.ts","./UIDef.ts","./tgx.ts","./EventDispatcher.ts","./UserMgr.ts","./TimerMgr.ts","./UIMgr.ts"],(function(t){var n,e,i,a,o,s,r,c,u,h,m,f,l,T,v,E,M,_;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,s=t.find,r=t.NodeEventType,c=t.Component},function(t){u=t.GameEvent},function(t){h=t.LevelManager},function(t){m=t.AliensAudioMgr},function(t){f=t.AliensGlobalInstance},function(t){l=t.UI_Setting,T=t.UI_PowerUp},null,function(t){v=t.EventDispatcher},function(t){E=t.UserManager},function(t){M=t.TimerMgr},function(t){_=t.UIMgr}],execute:function(){var g;a._RF.push({},"981c6qxz65Czq+BDylrIn50","RoosterAliens",void 0);var I=o.ccclass;o.property,t("RoosterAliens",I("RoosterAliens")(g=function(t){function a(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this)._touchStartTime=0,n._isTouchMoving=!1,n}n(a,t);var o=a.prototype;return o.onLoad=function(){m.initilize(),m.play(m.getMusicIdName(1),1),E.instance.initilizeModel(),h.instance.initilizeModel(),f.instance.initUI(),this.registerListener(),this.resetMgr()},o.resetMgr=function(){E.instance.reset(),M.inst.reset()},o.start=function(){f.instance.homeUI.active=!0,f.instance.battleUI.active=!1},o.startGame=function(){var t=e(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.instance.gameStart();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.registerListener=function(){var t=this,n=(s("Canvas/GameUI/TopLeft/BtnRefresh"),s("Canvas/GameUI/TopLeft/BtnSet")),e=s("Canvas/GameUI/BattleUI/Aim/BtPoint"),i=s("Canvas/GameUI/BattleUI/AimTarget/Mask/frame"),a=s("Canvas/GameUI/BattleUI/AimTarget/BtnShoot"),o=s("Canvas/GameUI/HomeUI/BtnStart");n.on(r.TOUCH_END,(function(){return t.onClickSet()}),this),e.on(r.TOUCH_END,(function(){return t.onClickAim()}),this),i.on(r.TOUCH_START,this.frameTouchStart,this),i.on(r.TOUCH_MOVE,this.frameTouchMove,this),i.on(r.TOUCH_END,this.frameTouchEnd,this),a.on(r.TOUCH_END,(function(){return t.onShoot()}),this),o.on(r.TOUCH_END,(function(){return t.onStart()}),this),v.instance.on(u.EVENT_GAME_ENTER,this.onStart,this),v.instance.on(u.EVENT_CAMERA_HIDE_AIM,this.onClickResetAim,this),v.instance.on(u.EVENT_GAME_BACK_HOME,this.backHome,this)},o.onClickSet=function(){m.playOneShot(m.getMusicIdName(2),1),_.inst.isShowing(l)||_.inst.showUI(l)},o.onClickAim=function(){m.playOneShot(m.getMusicIdName(3),1);var t=f.instance.aimTarget,n=f.instance.aimNode;t.active=!0,n.active=!1,v.instance.emit(u.EVENT_CAMERA_AIM)},o.onClickResetAim=function(){var t=f.instance.aimTarget,n=f.instance.aimNode;t.active=!1,n.active=!0,v.instance.emit(u.EVENT_CAMERA_RESET_AIM)},o.frameTouchStart=function(t){console.log("frameTouchStart"),this._touchStartTime=Date.now(),this._isTouchMoving=!1},o.frameTouchMove=function(t){Date.now()-this._touchStartTime>=300&&(this._isTouchMoving=!0,v.instance.emit(u.EVENT_FRAME_TOUCH_MOVE,t))},o.frameTouchEnd=function(t){this._isTouchMoving||this.onClickResetAim(),this._touchStartTime=0,this._isTouchMoving=!1},o.onShoot=function(){m.playOneShot(m.getMusicIdName(4),1),v.instance.emit(u.EVENT_CAMERA_SHOOT)},o.onStart=function(){var t=e(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.playOneShot(m.getMusicIdName(2),1),E.instance.reducePower(1)){t.next=6;break}return _.inst.isShowing(T)||_.inst.showUI(T),t.abrupt("return");case 6:return t.next=8,this.startGame();case 8:f.instance.homeUI.active=!1,f.instance.battleUI.active=!0,E.instance.reducePower(1);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.backHome=function(){f.instance.homeUI.active=!0,f.instance.battleUI.active=!1},a}(c))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenShotComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AliensGlobalInstance.ts","./EventDispatcher.ts","./GameEvent.ts","./AliensAudioMgr.ts"],(function(e){var t,n,r,i,o,a,s,c,u,h,l,d,p,g,f,_,m,v,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Sprite,h=e.Vec3,l=e.Quat,d=e.Component,p=e.SpriteFrame,g=e.RenderTexture,f=e.Camera},function(e){_=e.AliensGlobalInstance},function(e){m=e.EventDispatcher},function(e){v=e.GameEvent},function(e){E=e.AliensAudioMgr}],execute:function(){var C,x,S,T,w;s._RF.push({},"e57d1RJrGJGTYn7Bjh8Uh0i","ScreenShotComponent",void 0);var y=c.ccclass,N=c.property;e("ScreenShotComponent",(C=y("ScreenShotComponent"),x=N(u),C((w=t((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"sprite",w,i(t)),t._renderTex=null,t._originalTargetTexture=null,t._originalCameraPosition=new h,t._originalCameraRotation=new l,t._shouldFlipImage=!0,t._index=0,t._targetNode=null,t._shootCount=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this.registerEvent()},s.registerEvent=function(){m.instance.on(v.EVENT_CAMERA_SCREENSHOT,this.screenShot,this),m.instance.on(v.EVENT_CAMERA_SHOOT_ENEMY,this.shootEnemy,this)},s.unregisterEvent=function(){m.instance.off(v.EVENT_CAMERA_SCREENSHOT,this.screenShot,this),m.instance.off(v.EVENT_CAMERA_SHOOT_ENEMY,this.shootEnemy,this)},s.screenShot=function(){var e=o(a().mark((function e(){var t,n,r,i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.playOneShot(E.getMusicIdName(7),1),this.node.active=!0,e.next=4,this.getSceneCamera();case 4:return t=e.sent,e.next=7,this.getTargetNode();case 7:if(this._targetNode=e.sent,this._targetNode){e.next=10;break}return e.abrupt("return");case 10:return(n=new g).reset({width:150,height:110}),this._originalTargetTexture=t.targetTexture,t.node.getWorldPosition(this._originalCameraPosition),t.node.getWorldRotation(this._originalCameraRotation),r=new h(this._targetNode.worldPosition.x,this._targetNode.worldPosition.y+1,this._targetNode.worldPosition.z+.7),t.node.worldPosition=r,t.node.lookAt(this._targetNode.worldPosition),t.targetTexture=n,e.next=21,new Promise((function(e){return o.scheduleOnce(e,.1)}));case 21:(i=new p).texture=n,i.flipUVY=this._shouldFlipImage,this.sprite.spriteFrame=i,this.sprite.markForUpdateRenderData(!0),t.targetTexture=this._originalTargetTexture,t.node.setWorldPosition(this._originalCameraPosition),t.node.setRotation(this._originalCameraRotation);case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.shootEnemy=function(e){var t=this;this.node.active&&this._targetNode&&e==this._targetNode&&this.scheduleOnce((function(){t._shootCount++,t._shootCount>0&&(t._shouldFlipImage=!1),t.node.active=!1}),1)},s.getSceneCamera=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=_.instance.levels.children[0];n&&e(n.getComponentInChildren(f))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.getTargetNode=function(){var e=o(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=_.instance.levels.children[0].getChildByName("Ets");t._index++,t._index>=r.children.length&&(t._index=0),e(r.children[t._index])})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.saveCameraState=function(e,t){this._originalCameraPosition=e;var n=new l;l.fromEuler(n,t.x,t.y,t.z),this._originalCameraRotation.set(n)},s.onDestroy=function(){this.unregisterEvent()},t}(d)).prototype,"sprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=T))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/TauntComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserMgr.ts","./EventDispatcher.ts","./GameEvent.ts","./AliensAudioMgr.ts","./GlobalConfig.ts"],(function(t){var n,i,e,o,a,s,r,u,l,c,h,p,f,g,d,m,T;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Label,u=t.view,l=t.UITransform,c=t.Vec3,h=t.tween,p=t.Component},function(t){f=t.UserManager},function(t){g=t.EventDispatcher},function(t){d=t.GameEvent},function(t){m=t.AliensAudioMgr},function(t){T=t.GlobalConfig}],execute:function(){var v,_,y,A,b;a._RF.push({},"0d124irg5JKybTPFSFFMVys","TauntComponent",void 0);var M=s.ccclass,C=s.property,E=["Your level is also too poor","You loser","It would have been over long ago if someone else came"];t("TauntComponent",(v=M("TauntComponent"),_=C(r),v((b=n((A=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,e(n,"tauntLabel",b,o(n)),n._originPos=null,n._isAnimating=!1,n.tauntIntervalTime=0,n}i(n,t);var a=n.prototype;return a.start=function(){var t=f.instance.userModel.tauntIntervalTime;this.tauntIntervalTime=t,T.isDebug&&(this.tauntIntervalTime=10),this._originPos=this.node.position.clone(),g.instance.on(d.EVENT_GAME_COUNTDOWN_START,this.startTauntSchedule,this)},a.startTauntSchedule=function(){this.schedule(this.playTauntAnimation,this.tauntIntervalTime)},a.taunt=function(){var t=this;if(m.playOneShot(m.getMusicIdName(6),1),!this._isAnimating){this._isAnimating=!0,this.tauntLabel.string=this.getRandomTauntTxt();var n=-u.getVisibleSize().width/2,i=this.node.getComponent(l).width,e=new c(n+i/2,this._originPos.y,this._originPos.z);h(this.node.position).to(1,e,{easing:"quadOut",onUpdate:function(n){t.node.position=n}}).call((function(){t.scheduleOnce((function(){h(t.node.position).to(2,t._originPos,{easing:"quadIn",onUpdate:function(n){t.node.position=n},onComplete:function(){t._isAnimating=!1}}).start()}),1)})).start()}},a.playTauntAnimation=function(){this.taunt()},a.getRandomTauntTxt=function(){var t=Math.floor(Math.random()*E.length);return E[t]},a.onDestroy=function(){this.unschedule(this.playTauntAnimation),g.instance.off(d.EVENT_GAME_COUNTDOWN_START,this.startTauntSchedule,this)},n}(p)).prototype,"tauntLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=A))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/TimerMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./AliensGlobalInstance.ts","./tgx.ts","./UIDef.ts","./LevelMgr.ts","./GlobalConfig.ts","./UIMgr.ts"],(function(t){var e,n,i,s,o,u,a,r,c,l,h,d;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.Scheduler,s=t.director,o=t.Label},function(t){u=t.GameUtil},function(t){a=t.AliensGlobalInstance},null,function(t){r=t.UI_TimeExpan,c=t.UI_BattleResult},function(t){l=t.LevelManager},function(t){h=t.GlobalConfig},function(t){d=t.UIMgr}],execute:function(){n._RF.push({},"b8f710R7rBM4ZXhhLt+M5NX","TimerMgr",void 0),t("TimerMgr",function(){function t(){this._countDownTime=1,this.timerId=0,this.isPaused=!1,this.addTimeCount=0}var n=t.prototype;return n.startCountdown=function(){var t=this;this.isPaused?this.resumeCountdown():(this.upateLbTime(),this.timerId=setInterval((function(){t.isPaused||(t.countDownTime--,t.updateUsedTime(),t.countDownTime<=0&&(t.stopCountdown(),t.addTimeCount<1?t.showCountdownPopup():t.showResultPopup(),t.addTimeCount++),t.upateLbTime())}),1e3),i.enableForTarget(this),s.getScheduler().schedule(this.update,this,0))},n.updateUsedTime=function(){l.instance.levelModel.levelTimeUsed++},n.upateLbTime=function(){var t=a.instance.battleUI.getChildByPath("Times/LbTime"),e=u.formatToTimeString(this.countDownTime);t.getComponent(o).string=e},n.stopCountdown=function(){this.timerId&&(clearInterval(this.timerId),this.timerId=0)},n.pauseCountdown=function(){this.isPaused=!0,s.getScheduler().pauseTarget(this)},n.resumeCountdown=function(){this.isPaused=!1,s.getScheduler().resumeTarget(this)},n.isPausedState=function(){return this.isPaused},n.update=function(t){},n.showCountdownPopup=function(){d.inst.isShowing(r)||d.inst.showUI(r)},n.showResultPopup=function(){d.inst.isShowing(c)||d.inst.showUI(c)},n.reset=function(){this.stopCountdown(),this.isPaused=!1,i.enableForTarget(this),s.getScheduler().unscheduleAllForTarget(this),this.addTimeCount=0,this.countDownTime=l.instance.levelModel.levelTime,h.isDebug&&(this.countDownTime=500)},e(t,[{key:"countDownTime",get:function(){return this._countDownTime},set:function(t){this._countDownTime=t}}],[{key:"Instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}},{key:"inst",get:function(){return this.Instance}}]),t}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BattleGambit_Impl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUILayers.ts","./UIDef.ts","./tgx.ts","./Layout_BattleGambit.ts","./EventDispatcher.ts","./GlobalConfig.ts","./AdvertMgr.ts","./UserMgr.ts","./GameEvent.ts","./TimerMgr.ts","./AliensAudioMgr.ts","./ModuleContext.ts"],(function(t){var n,e,o,a,i,s,r,u,c,l,d,f,m,_;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.GameUILayers},function(t){i=t.UI_BattleGambit},null,function(t){s=t.Layout_BattleGambit},function(t){r=t.EventDispatcher},function(t){u=t.GlobalConfig},function(t){c=t.AdvertMgr},function(t){l=t.UserManager},function(t){d=t.GameEvent},function(t){f=t.TimerMgr},function(t){m=t.AliensAudioMgr},function(t){_=t.ModuleContext}],execute:function(){var g;e._RF.push({},"8eda18vYzZLzY2SQ3nLKV+p","UI_BattleGambit_Impl",void 0);var p=o.ccclass,I=(o.property,t("UI_BattleGambit_Impl",p("UI_BattleGambit_Impl")(g=function(t){function e(){return t.call(this,"Prefabs/UI/Gambit/UI_BattleGambit",a.POPUP,s)||this}n(e,t);var o=e.prototype;return o.getRes=function(){return[]},o.onCreated=function(){var t=this,n=this.layout;this.onButtonEvent(n.btn_get,(function(){m.playOneShot(m.getMusicIdName(2),1),u.isDebug?(t.addFreeCount(),t.startCountdown()):c.instance.showReawardVideo((function(){t.addFreeCount(),t.startCountdown()}))})),this.onButtonEvent(n.btn_back,(function(){m.playOneShot(m.getMusicIdName(2),1),t.startCountdown()}))},o.startCountdown=function(){this.hide(),f.inst.startCountdown(),r.instance.emit(d.EVENT_GAME_COUNTDOWN_START)},o.addFreeCount=function(){l.instance.addRadarFreeCount(2),r.instance.emit(d.EVENT_REFRESH_PLAYER_INFO)},e}(i))||g));_.attachImplClass(i,I),e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BattleResult_Impl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./tgx.ts","./GameUILayers.ts","./UIDef.ts","./Layout_BattleResult.ts","./LevelMgr.ts","./AliensAudioMgr.ts","./UserMgr.ts","./TimerMgr.ts","./AliensGlobalInstance.ts","./UIMgr.ts","./ModuleContext.ts"],(function(t){var e,n,i,s,o,l,a,r,u,c,d,h,f,v,m;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Tween,s=t.isValid},null,function(t){o=t.GameUILayers},function(t){l=t.UI_PowerUp,a=t.UI_BattleResult},function(t){r=t.Layout_BattleResult},function(t){u=t.LevelManager},function(t){c=t.AliensAudioMgr},function(t){d=t.UserManager},function(t){h=t.TimerMgr},function(t){f=t.AliensGlobalInstance},function(t){v=t.UIMgr},function(t){m=t.ModuleContext}],execute:function(){n._RF.push({},"60a4313NlFJpqUrSRZVVrBe","UI_BattleResult_Impl",void 0);var g=t("UI_BattleResult_Impl",function(t){function n(){var e;return(e=t.call(this,"Prefabs/UI/Result/UI_BattleResult",o.POPUP,r)||this).rewardBase=0,e.rewardAdditional=0,e.timeoutIds=[],e.win=!0,e}e(n,t);var a=n.prototype;return a.getRes=function(){return[]},a.onCreated=function(){var t=this;this.win=u.instance.levelModel.isWin;var e=this.win?10:9;c.playOneShot(c.getMusicIdName(e),1);var n=this.layout;this.onButtonEvent(n.btNext,(function(){t.onClickRewardBase()})),this.onButtonEvent(n.btRestart,(function(){t.onClickRewardBase()})),n.winNode.active=this.win,n.loseNode.active=!this.win,this.updateWinUI(),this.updateRemain()},a.updateWinUI=function(){var t=u.instance.levelModel,e=this.layout,n=(t.levelMonsterCount,t.levelTimeUsed),i=t.shootCount,s=t.headshotCount,o=t.hitCount,l=i>0?Math.round(s/i*100):0,a=i>0?Math.round(o/i*100):0;e.lbTime.string=n+"s",e.lbHeadShot.string=l+"%",e.lbHitRate.string=a+"%"},a.updateRemain=function(){var t=this.layout,e=f.instance.levels.children[0];t.lbRemain.string=e.getChildByName("Ets").children.length.toString()},a.emitEvent=function(){if(h.inst.reset(),d.instance.reset(),this.win)u.instance.levelUpHandler();else{if(!d.instance.reducePower(1))return void(v.inst.isShowing(l)||v.inst.showUI(l));u.instance.restartLevelHandler()}},a.onClickRewardBase=function(){c.playOneShot(c.getMusicIdName(2),1),this.destoryMyself(),this.emitEvent()},a.clearAllTimeouts=function(){this.timeoutIds.forEach((function(t){return clearTimeout(t)})),this.timeoutIds=[]},a.destoryMyself=function(){i.stopAllByTarget(this.node),s(this.node)&&(this.node.removeFromParent(),this.hide()),this.clearAllTimeouts()},n}(a));m.attachImplClass(a,g),n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_PowerUp_Impl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUILayers.ts","./UIDef.ts","./tgx.ts","./Layout_PowerUp.ts","./EventDispatcher.ts","./GlobalConfig.ts","./AdvertMgr.ts","./UserMgr.ts","./GameEvent.ts","./AliensAudioMgr.ts","./ModuleContext.ts"],(function(t){var e,n,o,i,r,s,a,c,u,l,p,f,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){i=t.GameUILayers},function(t){r=t.UI_PowerUp},null,function(t){s=t.Layout_PowerUp},function(t){a=t.EventDispatcher},function(t){c=t.GlobalConfig},function(t){u=t.AdvertMgr},function(t){l=t.UserManager},function(t){p=t.GameEvent},function(t){f=t.AliensAudioMgr},function(t){d=t.ModuleContext}],execute:function(){var _;n._RF.push({},"69c13sviFxEh7aJ+5iIDcIX","UI_PowerUp_Impl",void 0);var U=o.ccclass,h=(o.property,t("UI_PowerUp_Impl",U("UI_PowerUp_Impl")(_=function(t){function n(){return t.call(this,"Prefabs/UI/PowerUp/UI_PowerUp",i.POPUP,s)||this}e(n,t);var o=n.prototype;return o.getRes=function(){return[]},o.onCreated=function(){var t=this,e=this.layout;this.onButtonEvent(e.btn_get,(function(){f.playOneShot(f.getMusicIdName(2),1),c.isDebug?t.addPower():u.instance.showReawardVideo((function(){t.addPower()}))})),this.onButtonEvent(e.btn_back,(function(){f.playOneShot(f.getMusicIdName(2),1),t.hide(),a.instance.emit(p.EVENT_GAME_BACK_HOME)}))},o.addPower=function(){this.hide(),l.instance.addPower(1),a.instance.emit(p.EVENT_GAME_ENTER)},n}(r))||_));d.attachImplClass(r,h),n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_TimeExpan_Impl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUILayers.ts","./UIDef.ts","./tgx.ts","./Layout_TimeExpan.ts","./GlobalConfig.ts","./AdvertMgr.ts","./TimerMgr.ts","./LevelMgr.ts","./UserMgr.ts","./AliensAudioMgr.ts","./UIMgr.ts","./ModuleContext.ts"],(function(t){var n,e,i,o,s,a,r,u,c,l,d,m,f,g,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.GameUILayers},function(t){s=t.UI_BattleResult,a=t.UI_TimeExpan},null,function(t){r=t.Layout_TimeExpan},function(t){u=t.GlobalConfig},function(t){c=t.AdvertMgr},function(t){l=t.TimerMgr},function(t){d=t.LevelManager},function(t){m=t.UserManager},function(t){f=t.AliensAudioMgr},function(t){g=t.UIMgr},function(t){p=t.ModuleContext}],execute:function(){var _;e._RF.push({},"f0f94DRbTdIx4ikL/MGRHww","UI_TimeExpan_Impl",void 0);var I=i.ccclass,h=(i.property,t("UI_TimeExpan_Impl",I("UI_TimeExpan_Impl")(_=function(t){function e(){var n;return(n=t.call(this,"Prefabs/UI/TimeExpan/UI_TimeExpan",o.POPUP,r)||this)._addTime=1,n}n(e,t);var i=e.prototype;return i.getRes=function(){return[]},i.onCreated=function(){var t=this;this._addTime=m.instance.userModel.reviveAddTime,u.isDebug&&(this._addTime=15);var n=this.layout;this.onButtonEvent(n.btn_get,(function(){f.playOneShot(f.getMusicIdName(2),1),u.isDebug?t.addTime():c.instance.showReawardVideo((function(){t.addTime()}))})),this.onButtonEvent(n.btn_back,(function(){f.playOneShot(f.getMusicIdName(2),1),t.hide(),d.instance.levelModel.isWin=!1,g.inst.isShowing(s)||g.inst.showUI(s)}))},i.addTime=function(){l.inst.countDownTime=this._addTime,l.inst.startCountdown(),this.hide()},e}(a))||_));p.attachImplClass(a,h),e._RF.pop()}}}));

System.register("chunks:///_virtual/UserMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./EventDispatcher.ts","./GameEvent.ts"],(function(e){var r,t,n,o,u,s;return{setters:[function(e){r=e.createClass},function(e){t=e.cclegacy,n=e._decorator},function(e){o=e.UserModel},function(e){u=e.EventDispatcher},function(e){s=e.GameEvent}],execute:function(){var i,c;t._RF.push({},"5ea1aXFi5VAfbnHeL6lSLYm","UserMgr",void 0);var a=n.ccclass;n.property,e("UserManager",a("UserManager")(((c=function(){function e(){this.userModel=null}var t=e.prototype;return t.initilizeModel=function(){this.userModel=new o,this.userModel.initialize()},t.addPower=function(e){return this.userModel.powerCurrent+=e,u.instance.emit(s.EVENT_REFRESH_PLAYER_INFO),this.userModel.powerCurrent},t.reducePower=function(e){return this.userModel.powerCurrent>=e&&(this.userModel.powerCurrent-=e,u.instance.emit(s.EVENT_REFRESH_PLAYER_INFO),!0)},t.addRadarFreeCount=function(e){return this.userModel.radarFreeCount+=e,u.instance.emit(s.EVENT_REFRESH_PLAYER_INFO),this.userModel.radarFreeCount},t.reduceRadarFreeCount=function(e){return this.userModel.radarFreeCount>=e&&(this.userModel.radarFreeCount-=e,u.instance.emit(s.EVENT_REFRESH_PLAYER_INFO),!0)},t.addFreeScreenShotCount=function(e){return this.userModel.freeScreenShotCount+=e,u.instance.emit(s.EVENT_REFRESH_PLAYER_INFO),this.userModel.freeScreenShotCount},t.reduceFreeScreenShotCount=function(e){return this.userModel.freeScreenShotCount>=e&&(this.userModel.freeScreenShotCount-=e,u.instance.emit(s.EVENT_REFRESH_PLAYER_INFO),!0)},t.reset=function(){this.userModel.freeScreenShotCount=0,this.userModel.radarFreeCount=0},r(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,i=c))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/UserModel.ts",["cc","./Tablemain_config.ts"],(function(e){var t,i;return{setters:[function(e){t=e.cclegacy},function(e){i=e.Tablemain_config}],execute:function(){t._RF.push({},"1aeab3p4NNF74oKCS5oe7uH","UserModel",void 0);e("UserModel",function(){function e(){this.money=0,this.nickName="player",this.forceAdCount=0,this.powerAddByAd=0,this.reviveAddTime=0,this.tauntIntervalTime=0,this.levelTimeLessTip=0,this.powerRecoverTime=1,this.powerMax=1,this.powerCurrent=0,this.radarFreeCount=0,this.freeScreenShotCount=0,this.magnifyRate=1,this.mainConfig=null,this.mainConfig=new i}var t=e.prototype;return t.initialize=function(){this.money=0,this.powerRecoverTime=this.getPramById(5),this.powerMax=this.getPramById(4),this.powerCurrent=this.powerMax,this.radarFreeCount=this.getPramById(3),this.freeScreenShotCount=this.getPramById(2),this.powerAddByAd=this.getPramById(6),this.reviveAddTime=this.getPramById(7),this.tauntIntervalTime=this.getPramById(8),this.levelTimeLessTip=this.getPramById(9),this.magnifyRate=this.getPramById(10),console.log("获取到的magnifyRate:",this.magnifyRate)},t.getPramById=function(e){return this.mainConfig.init(e),this.mainConfig.param},e}());t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_aliens', 'chunks:///_virtual/module_aliens'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});