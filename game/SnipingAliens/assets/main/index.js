System.register("chunks:///_virtual/Adapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,s,a,c,h,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,o=e._decorator,r=e.size,s=e.Component,a=e.screen,c=e.view,h=e.v4,u=e.UITransform}],execute:function(){i._RF.push({},"adb5fOrnLNAVIA//CZoF/Pl","Adapter",void 0);o.ccclass,o.property;var d=function(e){return e[e.Unknown=0]="Unknown",e[e.LandscapeLeft=1]="LandscapeLeft",e[e.LandscapeRight=2]="LandscapeRight",e[e.Portrait=3]="Portrait",e[e.UpsideDown=4]="UpsideDown",e}(d||{}),l=r(0,0),p=r(0,0),f=e("Adapter",function(e){function i(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._func=null,t.onAdapterComplete=null,t._isFullScreenAdaption=!0,t}t(i,e);var o=i.prototype;return o.doOnAdapterComplete=function(){this.onAdapterComplete&&this.onAdapterComplete()},o.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.onChangeSize()},o.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.addEvents()},o.onDisable=function(){this.removeEvents(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.onDestroy=function(){this.removeEvents(),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},o.addEvents=function(){this._func||(this._func=this.onChangeSize.bind(this),window.addEventListener("resize",this._func),window.addEventListener("orientationchange",this._func))},o.removeEvents=function(){this._func&&(window.removeEventListener("resize",this._func),window.removeEventListener("orientationchange",this._func)),this._func=null},o.onChangeSize=function(){this.doOnAdapterComplete()},i.screenPxToDesignPx=function(e){return e/this.safeArea.designPxToScreenPxRatio},i.designPxToScreenPx=function(e){return e*this.safeArea.designPxToScreenPxRatio},n(i,[{key:"width",get:function(){var e=this.getComponent(u);return e?e.width:0},set:function(e){var t=this.getComponent(u);t&&(t.width=e)}},{key:"height",get:function(){var e=this.getComponent(u);return e?e.height:0},set:function(e){var t=this.getComponent(u);t&&(t.height=e)}},{key:"direction",get:function(){var e=d.Unknown,t=window.orientation;return null==t&&null==t||(90==t?e=d.LandscapeLeft:-90==t?e=d.LandscapeRight:0==t?e=d.Portrait:180==t&&(e=d.UpsideDown)),e}},{key:"isFullScreenAdaption",get:function(){return this._isFullScreenAdaption},set:function(e){this._isFullScreenAdaption=e}}],[{key:"windowSize",get:function(){return a.windowSize}},{key:"visibleSize",get:function(){return c.getVisibleSize()}},{key:"safeAreaEdge",get:function(){return h(0,0,0,0)}},{key:"safeArea",get:function(){if(null==this._safeArea||null==this._safeArea){var e=i.windowSize.width,t=i.windowSize.height,n=i.visibleSize.width,o=i.visibleSize.height,r=Math.min(e/n,t/o);p.width=0,p.height=0,l.width=e-p.width,l.height=t-p.height,this._safeArea={width:e,height:t,outside:p,safe:l,designPxToScreenPxRatio:r}}return this._safeArea},set:function(e){this._safeArea=e}}]),i}(s));f.direction=d,f._safeArea=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterSafeArea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Adapter.ts"],(function(t){var i,e,o,r,n,s,p,l,a;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.createClass},function(t){s=t.cclegacy,p=t._decorator,l=t.Widget},function(t){a=t.Adapter}],execute:function(){var u,h,c,g,f,y,d,A,b,_,m,O,T,L,D,w,R;s._RF.push({},"dca72U6jlRMRLAiO1t+r7Zj","AdapterSafeArea",void 0);var P=p.ccclass,v=p.property,B=p.executeInEditMode,F=p.menu,j=function(t){return t[t.None=0]="None",t[t.TOP=1]="TOP",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=4]="LEFT",t[t.RIGHT=8]="RIGHT",t}(j||{});t("default",(u=P("AdapterSafeArea"),h=F("Quick适配组件/AdapterSafeArea"),c=v({tooltip:""}),g=v({tooltip:""}),f=v({tooltip:""}),y=v({tooltip:""}),d=v({visible:function(){return this.isAlignTop},tooltip:""}),A=v({visible:function(){return this.isAlignBottom},tooltip:""}),b=v({visible:function(){return this.isAlignLeft},tooltip:""}),_=v({visible:function(){return this.isAlignRight},tooltip:""}),u(m=B(m=h((T=i((O=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return i=t.call.apply(t,[this].concat(n))||this,o(i,"_flags",T,r(i)),o(i,"_top",L,r(i)),o(i,"_bottom",D,r(i)),o(i,"_left",w,r(i)),o(i,"_right",R,r(i)),i._isDirty=!1,i}e(i,t);var s=i.prototype;return s.setFlag=function(t,i){i!=(this._flags&t)>0&&(i?this._flags|=t:this._flags&=~t,this._isDirty=!0)},s.resetInEditor=function(){this.doLayout(!0)},s.doLayout=function(t){if(void 0===t&&(t=!1),this._isDirty||t){var i=this.widget;if(!this.isFullScreenAdaption)return;if(!i||!i.enabled)return;i.isAlignTop&&this.isAlignTop&&(i.isAbsoluteTop=!0,this.direction==a.direction.Portrait?i.top=this.top+a.safeArea.outside.height:i.top=this.top),i.isAlignBottom&&this.isAlignBottom&&(i.isAbsoluteBottom=!0,this.direction==a.direction.UpsideDown?i.bottom=this.bottom+a.safeArea.outside.height:i.bottom=this.bottom),i.isAlignLeft&&this.isAlignLeft&&(i.isAbsoluteLeft=!0,this.direction==a.direction.LandscapeLeft?i.left=this.left+a.safeArea.outside.width:i.left=this.left),i.isAlignRight&&this.isAlignRight&&(i.isAbsoluteRight=!0,this.direction==a.direction.LandscapeRight?i.right=this.right+a.safeArea.outside.width:i.right=this.right),i.updateAlignment(),this._isDirty=!1,this.doOnAdapterComplete()}},s.onChangeSize=function(){this.doLayout(!0)},s.update=function(i){t.prototype.update&&t.prototype.update.call(this,i),this.doLayout()},n(i,[{key:"isAlignTop",get:function(){return(this._flags&j.TOP)>0},set:function(t){this.setFlag(j.TOP,t)}},{key:"isAlignBottom",get:function(){return(this._flags&j.BOTTOM)>0},set:function(t){this.setFlag(j.BOTTOM,t)}},{key:"isAlignLeft",get:function(){return(this._flags&j.LEFT)>0},set:function(t){this.setFlag(j.LEFT,t)}},{key:"isAlignRight",get:function(){return(this._flags&j.RIGHT)>0},set:function(t){this.setFlag(j.RIGHT,t)}},{key:"top",get:function(){return this._top},set:function(t){this._top!=t&&(this._top=t,this._isDirty=!0)}},{key:"bottom",get:function(){return this._bottom},set:function(t){this._bottom!=t&&(this._bottom=t,this._isDirty=!0)}},{key:"left",get:function(){return this._left},set:function(t){this._left!=t&&(this._left=t,this._isDirty=!0)}},{key:"right",get:function(){return this._right},set:function(t){this._right!=t&&(this._right=t,this._isDirty=!0)}},{key:"widget",get:function(){var t=this.getComponent(l);return t||this.addComponent(l)}}]),i}(a)).prototype,"_flags",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.None}}),i(O.prototype,"isAlignTop",[c],Object.getOwnPropertyDescriptor(O.prototype,"isAlignTop"),O.prototype),i(O.prototype,"isAlignBottom",[g],Object.getOwnPropertyDescriptor(O.prototype,"isAlignBottom"),O.prototype),i(O.prototype,"isAlignLeft",[f],Object.getOwnPropertyDescriptor(O.prototype,"isAlignLeft"),O.prototype),i(O.prototype,"isAlignRight",[y],Object.getOwnPropertyDescriptor(O.prototype,"isAlignRight"),O.prototype),L=i(O.prototype,"_top",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(O.prototype,"top",[d],Object.getOwnPropertyDescriptor(O.prototype,"top"),O.prototype),D=i(O.prototype,"_bottom",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(O.prototype,"bottom",[A],Object.getOwnPropertyDescriptor(O.prototype,"bottom"),O.prototype),w=i(O.prototype,"_left",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(O.prototype,"left",[b],Object.getOwnPropertyDescriptor(O.prototype,"left"),O.prototype),R=i(O.prototype,"_right",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(O.prototype,"right",[_],Object.getOwnPropertyDescriptor(O.prototype,"right"),O.prototype),m=O))||m)||m)||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Adapter.ts"],(function(t){var e,i,s,n,r,o,p,h,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.createClass},function(t){n=t.cclegacy,r=t._decorator,o=t.Enum,p=t.Sprite,h=t.Widget,a=t.v3,c=t.UITransform},function(t){l=t.Adapter}],execute:function(){var d,T,u,y,g,f,S;n._RF.push({},"df9c1XeTcVFJp2J7fsaRMc+","AdapterSprite",void 0);var v=r.ccclass,I=r.property,L=r.executeInEditMode,O=r.menu,_=t("SpriteScaleType",function(t){return t[t.FILL=0]="FILL",t[t.SUIT=1]="SUIT",t}({})),w=t("SpriteAlignType",function(t){return t[t.LEFT=0]="LEFT",t[t.TOP=1]="TOP",t[t.RIGHT=2]="RIGHT",t[t.BOTTOM=3]="BOTTOM",t[t.CENTER=4]="CENTER",t}({}));t("default",(d=v("AdapterSprite"),T=L(!0),u=O("Quick适配组件/AdapterSprite"),y=I({type:o(_),tooltip:"缩放类型:\n        -FILL: 缩放到填满父节点（如果父节点有裁剪，图像可能会被裁剪，节点可能会超出父节点）\n        -SUIT: 缩放到刚好在父节点内部最大化显示（图像会完整显示，但父节点上下或者左右可能会留空）"}),g=I({type:o(w),tooltip:"齐方式类型:\n        -LEFT: 缩放后靠左对齐\n        -TOP: 缩放后靠上对齐\n        -RIGHT: 缩放后靠右对齐\n        -BOTTOM: 缩放后靠下对齐\n        -CENTER: 缩放后居中对齐"}),d(f=T(f=u((e((S=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this)._scaleType=_.SUIT,e._alignType=w.CENTER,e._sprite=null,e}i(e,t);var n=e.prototype;return n.onLoad=function(){this._sprite=this.node.getComponent(p)},n.start=function(){this.updateSprite(this.scaleType,this.alignType)},n.onChangeSize=function(){this.updateSprite(this.scaleType,this.alignType)},n.updateSprite=function(t,e){var i;if(this._sprite&&this._sprite.enabled&&this._sprite.spriteFrame){var s=null==(i=this.node.parent)?void 0:i.getComponent(h);s&&s.updateAlignment(),this.width=this._sprite.spriteFrame.rect.width,this.height=this._sprite.spriteFrame.rect.height;var n=this.parentTrans;if(this.width/this.height>n.width/n.height){if(t==_.SUIT){var r=n.width/this.width;this.node.scale=a(r,r)}else if(t==_.FILL){var o=n.height/this.height;this.node.scale=a(o,o)}}else if(t==_.SUIT){var p=n.height/this.height;this.node.scale=a(p,p)}else if(t==_.FILL){var c=n.width/this.width;this.node.scale=a(c,c)}switch(e){case w.CENTER:this.node.setPosition(a());break;case w.LEFT:this.node.setPosition(a(-.5*(n.width-this.width*this.node.scale.x),0));break;case w.RIGHT:this.node.setPosition(a(.5*(n.width-this.width*this.node.scale.x),0));break;case w.TOP:this.node.setPosition(a(0,.5*(n.height-this.height*this.node.scale.x)));break;case w.BOTTOM:this.node.setPosition(a(0,-.5*(n.height-this.height*this.node.scale.x)))}this.doOnAdapterComplete()}},s(e,[{key:"scaleType",get:function(){return this._scaleType},set:function(t){this._scaleType=t}},{key:"alignType",get:function(){return this._alignType},set:function(t){this._alignType=t}},{key:"parentTrans",get:function(){var t;return null==(t=this.node.parent)?void 0:t.getComponent(c)}}]),e}(l)).prototype,"scaleType",[y],Object.getOwnPropertyDescriptor(S.prototype,"scaleType"),S.prototype),e(S.prototype,"alignType",[g],Object.getOwnPropertyDescriptor(S.prototype,"alignType"),S.prototype),f=S))||f)||f)||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Adapter.ts"],(function(e){var i,t,s,a,o;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator,a=e.v3},function(e){o=e.Adapter}],execute:function(){var n;t._RF.push({},"bcfe4/4KSpNzoVcKH/PLlmr","AdapterView",void 0);var r=s.ccclass,d=(s.property,s.executeInEditMode),c=s.menu;e("default",r("AdapterView")(n=d(!0)(n=c("Quick适配组件/AdapterView")(n=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.onChangeSize=function(){if(o.safeArea=null,this.node){if(this.isFullScreenAdaption)this.width=o.safeArea.width/o.safeArea.designPxToScreenPxRatio,this.height=o.safeArea.height/o.safeArea.designPxToScreenPxRatio;else switch(this.width=o.safeArea.safe.width/o.safeArea.designPxToScreenPxRatio,this.height=o.safeArea.safe.height/o.safeArea.designPxToScreenPxRatio,this.direction){case o.direction.LandscapeLeft:this.node.setPosition(a(o.safeArea.outside.width/o.safeArea.designPxToScreenPxRatio,0));break;case o.direction.LandscapeRight:this.node.setPosition(a(-o.safeArea.outside.width/o.safeArea.designPxToScreenPxRatio,0));break;case o.direction.Portrait:this.node.setPosition(a(0,-o.safeArea.outside.height/o.safeArea.designPxToScreenPxRatio));break;case o.direction.UpsideDown:this.node.setPosition(a(0,o.safeArea.outside.height/o.safeArea.designPxToScreenPxRatio));break;default:console.log("获取不到设备方向，直接居中处理"),this.node.setPosition(a(0,0))}this.doOnAdapterComplete()}},t}(o))||n)||n)||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/ADEvent.ts",["cc"],(function(E){var D;return{setters:[function(E){D=E.cclegacy}],execute:function(){D._RF.push({},"6430beYDShLL4d46ogx7LEU","ADEvent",void 0);var R=E("ADEvent",(function(){}));R.REWARD_VIDEO_PLAY="REWARD_VIDEO_PLAY",R.REWARD_VIDEO_DISMISSED="REWARD_VIDEO_DISMISSED",R.REWARD_VIDEO_CLOSEED="REWARD_VIDEO_CLOSEED",R.REWARD_VIDEO_ERROR="REWARD_VIDEO_ERROR",D._RF.pop()}}}));

System.register("chunks:///_virtual/AdvertMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./ADEvent.ts","./AudioMgr.ts","./tgx.ts","./GtagMgr.ts","./UITips.ts"],(function(n){var t,e,s,i,o,a,r,c,d;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,s=n._decorator},function(n){i=n.EventDispatcher},function(n){o=n.ADEvent},function(n){a=n.AudioMgr},null,function(n){r=n.GtagMgr,c=n.GtagType},function(n){d=n.UITips}],execute:function(){var u,l;e._RF.push({},"0d92aYdY25Lhb1qoZ1C2zbU","AdvertMgr",void 0);var g=s.ccclass;s.property,n("AdvertMgr",g("AdvertMgr")(((l=function(){function n(){this.adInstance=null,this.gtag=null,this.openAd=!0}var e=n.prototype;return e.initilize=function(){this.adInstance=window.adInstance,console.log("ad sdk初始化"),console.log(this.adInstance)},e.showInterstitial=function(n){this.adInstance&&this.openAd?this.adInstance.interstitialAd({beforeAd:function(){console.log("The ad starts playing")},afterAd:function(){console.log("The ad ends playing")},error:function(n){d.show(n),a.inst.resume(),r.inst.doGameDot(c.ad_error)}}):n&&n()},e.showReawardVideo=function(n){this.adInstance&&this.openAd?this.adInstance.rewardAd({beforeAd:function(){console.log("The ad starts playing, and the game should pause."),i.instance.emit(o.REWARD_VIDEO_PLAY),a.inst.pause()},adDismissed:function(){console.log("Player dismissed the ad before completion."),i.instance.emit(o.REWARD_VIDEO_DISMISSED),a.inst.resume()},adViewed:function(){console.log("Ad was viewed and closed."),n&&n(),i.instance.emit(o.REWARD_VIDEO_CLOSEED),a.inst.resume()},error:function(n){d.show(n),a.inst.resume(),r.inst.doGameDot(c.ad_error)}}):n&&n()},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=null,u=l))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,e,u,t,n,s,c;return{setters:[function(o){i=o.createClass},function(o){e=o.cclegacy,u=o.AudioClip,t=o.assetManager,n=o.Node,s=o.director,c=o.AudioSource}],execute:function(){e._RF.push({},"d506fCKEkdMY7qkdZWU6ieq","AudioMgr",void 0),o("AudioMgr",function(){function o(){this._audioSource=void 0,this._bgMusicEnabled=!0,this._soundEffectsEnabled=!0;var o=new n;o.name="__audioMgr__",s.getScene().addChild(o),s.addPersistRootNode(o),this._audioSource=o.addComponent(c)}var e=o.prototype;return e.playOneShot=function(o,i,e){var n=this;(void 0===i&&(i=1),void 0===e&&(e="resources"),this._soundEffectsEnabled)&&(o instanceof u?this._audioSource.playOneShot(o,i):t.getBundle(e).load(o,(function(o,e){o?console.log(o):n._audioSource.playOneShot(e,i)})))},e.play=function(o,i,e){var n=this;(void 0===i&&(i=1),void 0===e&&(e="resources"),this._bgMusicEnabled)&&(o instanceof u?(this._audioSource.clip=o,this._audioSource.play(),this._audioSource.loop=!0,this.audioSource.volume=i):(this._audioSource.clip&&(this._audioSource.stop(),this._audioSource.clip=null),t.getBundle(e).load(o,(function(o,e){o?console.log(o):(n._audioSource.clip=e,n._audioSource.play(),n._audioSource.loop=!0,n.audioSource.volume=i)}))))},e.stop=function(){this._audioSource.stop()},e.pause=function(){this._audioSource.pause()},e.resume=function(){this._bgMusicEnabled&&this._audioSource.play()},e.toggleBgMusic=function(o){this._bgMusicEnabled=o,o?this.resume():this.stop()},e.toggleSoundEffects=function(o){this._soundEffectsEnabled=o},i(o,[{key:"audioSource",get:function(){return this._audioSource}},{key:"bgMusicEnabled",get:function(){return this._bgMusicEnabled}},{key:"soundEffectsEnabled",get:function(){return this._soundEffectsEnabled}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(i){var t,e,n,o,s,r,l,a,m,h,p,u,c,d,_,y,C;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,r=i._decorator,l=i.v3,a=i.Camera,m=i.AnimationClip,h=i.find,p=i.RigidBody,u=i.SkeletalAnimation,c=i.Collider,d=i.Vec3,_=i.Component},function(i){y=i.EasyController,C=i.EasyControllerEvent}],execute:function(){var v,g,f,A,b,M,T,V,B,j,L,E,S,z,J,w,O,F;s._RF.push({},"d197aTs7v1GkpwypdJ1ezJ8","CharacterMovement",void 0);var P=r.ccclass,R=r.property,I=l();i("CharacterMovement",(v=P("tgxCharacterMovement"),g=R(a),f=R(m),A=R(m),b=R(m),M=R(m),T=R(m),v((j=t((B=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"mainCamera",j,o(t)),n(t,"velocity",L,o(t)),n(t,"jumpVelocity",E,o(t)),n(t,"maxJumpTimes",S,o(t)),t._curJumpTimes=0,n(t,"idleAnimClip",z,o(t)),n(t,"moveAnimClip",J,o(t)),n(t,"jumpBeginAnimClip",w,o(t)),n(t,"jumpLoopAnimClip",O,o(t)),n(t,"jumpLandAnimClip",F,o(t)),t._rigidBody=void 0,t._isMoving=!1,t._velocityScale=1,t._isInTheAir=!1,t._currentVerticalVelocity=0,t._anim=void 0,t._tmp=l(),t}e(t,i);var s=t.prototype;return s.start=function(){var i,t=this;this.mainCamera||(this.mainCamera=null==(i=h("Main Camera"))?void 0:i.getComponent(a));if(this._rigidBody=this.node.getComponent(p),this._anim=this.node.getComponent(u),this._anim){for(var e=[this.idleAnimClip,this.moveAnimClip,this.jumpBeginAnimClip,this.jumpLoopAnimClip,this.jumpLandAnimClip],n=0;n<e.length;++n){var o=e[n];o&&(this._anim.getState(o.name)||this._anim.addClip(o))}this.idleAnimClip&&this._anim.play(this.idleAnimClip.name)}y.on(C.MOVEMENT,this.onMovement,this),y.on(C.MOVEMENT_STOP,this.onMovementRelease,this),y.on(C.BUTTON,this.onJump,this);var s=this.getComponent(c);null==s||s.on("onCollisionEnter",(function(i){i.otherCollider!=i.selfCollider&&t.onLand()}))},s.onDestroy=function(){y.off(C.MOVEMENT,this.onMovement,this),y.off(C.MOVEMENT_STOP,this.onMovementRelease,this),y.off(C.MOVEMENT_STOP,this.onJump,this)},s.update=function(i){if(this._isMoving&&(this._tmp.set(this.node.forward),this._tmp.multiplyScalar(-1),this._tmp.multiplyScalar(this.velocity*this._velocityScale),this._rigidBody?(this._rigidBody.getLinearVelocity(I),this._tmp.y=I.y,this._rigidBody.setLinearVelocity(this._tmp)):(this._tmp.multiplyScalar(i),this._tmp.add(this.node.position),this.node.setPosition(this._tmp))),this._isInTheAir){if(this.jumpBeginAnimClip&&this._anim){var t=this._anim.getState(this.jumpBeginAnimClip.name);t.isPlaying&&t.current>=t.duration&&this.jumpLoopAnimClip&&this._anim.crossFade(this.jumpLoopAnimClip.name)}if(!this._rigidBody){this._currentVerticalVelocity-=9.8*i;var e=this.node.position,n=e.y+this._currentVerticalVelocity*i;n<=0&&(this.onLand(),n=0),this.node.setPosition(e.x,n,e.z)}}},s.onLand=function(){this._isInTheAir=!1,this._currentVerticalVelocity=0,this._curJumpTimes=0,this.moveAnimClip&&(this._isMoving?this._anim.crossFade(this.moveAnimClip.name,.5):this._anim.crossFade(this.idleAnimClip.name,.5))},s.onMovement=function(i,t){var e=0;this.mainCamera&&(e=this.mainCamera.node.eulerAngles.y),this._velocityScale=t,this._tmp.set(0,e+i-90+180,0),this.node.setRotationFromEuler(this._tmp),this._anim&&(this._isMoving||this._isInTheAir||this.moveAnimClip&&this._anim.crossFade(this.moveAnimClip.name,.1),this.moveAnimClip&&(this._anim.getState(this.moveAnimClip.name).speed=this._velocityScale)),this._isMoving=!0},s.onMovementRelease=function(){var i;!this._isInTheAir&&this.idleAnimClip&&(null==(i=this._anim)||i.crossFade(this.idleAnimClip.name,.5));this._isMoving=!1,this._rigidBody&&this._rigidBody.setLinearVelocity(d.ZERO)},s.onJump=function(i){var t;(console.log(i),"btn_slot_0"==i)&&(this._curJumpTimes>=this.maxJumpTimes||(this._curJumpTimes,this.jumpBeginAnimClip&&(null==(t=this._anim)||t.crossFade(this.jumpBeginAnimClip.name)),this._curJumpTimes++,this._rigidBody?(this._rigidBody.getLinearVelocity(I),I.y=this.jumpVelocity,this._rigidBody.setLinearVelocity(I)):this._currentVerticalVelocity=this.jumpVelocity,this._isInTheAir=!0))},t}(_)).prototype,"mainCamera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(B.prototype,"velocity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(B.prototype,"jumpVelocity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(B.prototype,"maxJumpTimes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(B.prototype,"idleAnimClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(B.prototype,"moveAnimClip",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(B.prototype,"jumpBeginAnimClip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(B.prototype,"jumpLoopAnimClip",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(B.prototype,"jumpLandAnimClip",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=B))||V));s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterMovement2D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(t){var e,o,n,r,i,a,s,c,l,h,u,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,s=t._decorator,c=t.v2,l=t.Vec2,h=t.Component},function(t){u=t.EasyController,v=t.EasyControllerEvent}],execute:function(){var m,p,f,M;a._RF.push({},"6bdfa3YMw1PwobXdjV+aWTX","CharacterMovement2D",void 0);var d=s.ccclass,y=s.property,_=c();t("CharacterMovement2D",d("tgxCharacterMovement2D")((f=e((p=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"moveSpeed",f,r(e)),n(e,"needRotation",M,r(e)),e._moveFactor=0,e._moveDir=c(1,0),e}o(e,t);var a=e.prototype;return a.start=function(){u.on(v.MOVEMENT,this.onMovement,this),u.on(v.MOVEMENT_STOP,this.onMovementStop,this)},a.onMovement=function(t,e){var o=t/180*Math.PI;this.needRotation&&this.node.setRotationFromEuler(0,0,t),this._moveDir.set(Math.cos(o),Math.sin(o)),this._moveDir.normalize(),this._moveFactor=e},a.onMovementStop=function(){this._moveFactor=0},a.onDestroy=function(){u.off(v.MOVEMENT,this.onMovement,this),u.off(v.MOVEMENT_STOP,this.onMovementStop,this)},a.update=function(t){if(this._moveFactor){l.multiplyScalar(_,this._moveDir,this.realSpeed*t);var e=this.node.position;this.node.setPosition(e.x+_.x,e.y+_.y,e.z)}},i(e,[{key:"moveDir",get:function(){return this._moveDir}},{key:"realSpeed",get:function(){return this.moveSpeed*this._moveFactor}}]),e}(h)).prototype,"moveSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),M=e(p.prototype,"needRotation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=p))||m);a._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/EasyController.ts",["cc"],(function(n){var t,e;return{setters:[function(n){t=n.cclegacy,e=n.director}],execute:function(){t._RF.push({},"cc933ijiadBG47GZ61xXA52","EasyController",void 0);var o=n("EasyControllerEvent",(function(){}));o.CAMERA_ROTATE="EasyControllerEvent.CAMERA_ROTATE",o.CAMERA_ZOOM="EasyControllerEvent.CAMERA_ZOOM",o.MOVEMENT="EasyControllerEvent.MOVEMENT",o.MOVEMENT_STOP="EasyControllerEvent.MOVEMENT_STOP",o.BUTTON="EasyControllerEvent.BUTTON";n("EasyController",function(){function n(){}return n.on=function(n,t,o){e.getScene().on(n,t,o)},n.off=function(n,t,o){var r;null==(r=e.getScene())||r.off(n,t,o)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"67acc++wNVNULP/OUgeuOW4","EventDispatcher",void 0),n("EventDispatcher",function(){function n(){this._handlersMap={}}var e=n.prototype;return e.on=function(n,t,e,i,s){if(n&&t){var r=this._handlersMap[n];r||(r=this._handlersMap[n]=[]),r.push({event:n,cb:t,thisArg:e,once:s,args:i})}},e.once=function(n,t,e,i){this.on(n,t,e,i,!0)},e.off=function(n,t,e,i){var s=this._handlersMap[n];if(s)for(var r=0;r<s.length;++r){var a=s[r];if(a.cb==t&&a.thisArg==e&&a.once==i)return void s.splice(r,1)}},e.clearAll=function(n){n?delete this._handlersMap[n]:this._handlersMap={}},e.emit=function(n,t,e,i,s,r){var a=this._handlersMap[n];if(a&&a.length)for(var c=[t,e,i,s,r],h=0;h<a.length;++h){var l=a[h];l.event==n&&l.cb.apply(l.thisArg,c)}},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/FollowCamera2D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,a,n,l,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,l=e.v3,c=e.Node,s=e.Camera,u=e.Component}],execute:function(){var p,f,d,g,h,m;a._RF.push({},"901c88RzPNC+KzYY4c1byNp","FollowCamera2D",void 0);var y=n.ccclass,v=n.property,b=l();e("FollowCamera2D",(p=y("tgxFollowCamera2D"),f=v(c),p((h=t((g=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,o(t,"target",h,i(t)),o(t,"offset",m,i(t)),t._camera=void 0,t}r(t,e);var a=t.prototype;return a.start=function(){this._camera=this.node.getComponent(s)},a.lateUpdate=function(e){this.target.getWorldPosition(b),b.add(this.offset),this.node.worldPosition=b},t}(u)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(g.prototype,"offset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l()}}),d=g))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/FPSCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){var a;r._RF.push({},"35e79Dy4FRKopwoxbqfPUBI","FPSCamera",void 0);var c=n.ccclass;n.property,t("FPSCamera",c("tgxFPSCamera")(a=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},r}(o))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/FreeCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,s,n,r,h,a,p,d,_,c,l,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,h=e.Vec2,a=e.Vec3,p=e.Quat,d=e.input,_=e.Input,c=e.game,l=e.KeyCode,u=e.v2,y=e.Component}],execute:function(){var E,v,K,Y,f,S,m,k;n._RF.push({},"9cfdbEnosdDcIV51/qKNoBS","FreeCamera",void 0);var D=r.ccclass,M=r.property,T=new h,P=new h,A=new a,g=new p,w=new a,W=new a;e("FreeCamera",(E=D("tgxFreeCamera"),v=M({slide:!0,range:[.05,.5,.01]}),E((f=t((Y=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"moveSpeed",f,s(t)),o(t,"moveSpeedShiftScale",S,s(t)),o(t,"damp",m,s(t)),o(t,"rotateSpeed",k,s(t)),t._euler=new a,t._velocity=new a,t._position=new a,t._speedScale=1,t._eulerP=new a,t.keys=[],t.moveDir=new a,t.key2dirMap=null,t}i(t,e);var n=t.prototype;return n.onLoad=function(){d.on(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.on(_.EventType.TOUCH_START,this.onTouchStart,this),d.on(_.EventType.TOUCH_MOVE,this.onTouchMove,this),d.on(_.EventType.TOUCH_END,this.onTouchEnd,this),a.copy(this._euler,this.node.eulerAngles),a.copy(this._position,this.node.getPosition()),a.copy(this._eulerP,this.node.eulerAngles),d.on(_.EventType.KEY_DOWN,this.onKeyDown,this),d.on(_.EventType.KEY_UP,this.onKeyUp,this)},n.onDestroy=function(){d.off(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.off(_.EventType.TOUCH_START,this.onTouchStart,this),d.off(_.EventType.TOUCH_MOVE,this.onTouchMove,this),d.off(_.EventType.TOUCH_END,this.onTouchEnd,this),d.off(_.EventType.KEY_DOWN,this.onKeyDown,this),d.off(_.EventType.KEY_UP,this.onKeyUp,this)},n.update=function(e){var t=Math.min(e/this.damp,1);a.transformQuat(A,this._velocity,this.node.rotation),a.scaleAndAdd(this._position,this._position,A,this.moveSpeed*this._speedScale),a.lerp(A,this.node.getPosition(),this._position,t),this.node.setPosition(A),this.moveDir.lengthSqr()&&(a.transformQuat(w,a.FORWARD,this.node.rotation),w.normalize(),a.cross(W,w,a.UP),W.normalize(),a.scaleAndAdd(this._position,this._position,w,this.moveSpeed*this._speedScale*this.moveDir.z),a.lerp(A,this.node.getPosition(),this._position,t),this.node.setPosition(A),a.scaleAndAdd(this._position,this._position,W,this.moveSpeed*this._speedScale*this.moveDir.x),a.lerp(A,this.node.getPosition(),this._position,t),this.node.setPosition(A),a.scaleAndAdd(this._position,this._position,a.UP,this.moveSpeed*this._speedScale*this.moveDir.y),a.lerp(A,this.node.getPosition(),this._position,t),this.node.setPosition(A)),p.fromEuler(g,this._eulerP.x,this._eulerP.y,this._eulerP.z),p.slerp(g,this.node.rotation,g,t),this.node.setWorldRotationFromEuler(this._eulerP.x,this._eulerP.y,this._eulerP.z)},n.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed*.1;a.transformQuat(A,a.UNIT_Z,this.node.rotation),a.scaleAndAdd(this._position,this.node.position,A,t)},n.onTouchStart=function(e){c.canvas.requestPointerLock&&c.canvas.requestPointerLock()},n.onTouchMove=function(e){e.getStartLocation(T),T.x,c.canvas.width,e.getDelta(P),this._eulerP.y-=P.x*this.rotateSpeed*.1,this._eulerP.x+=P.y*this.rotateSpeed*.1},n.onTouchEnd=function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(T),T.x<.4*c.canvas.width&&(this._velocity.x=0,this._velocity.z=0)},n.onKeyDown=function(e){var t=e.keyCode;t!=l.KEY_A&&t!=l.KEY_S&&t!=l.KEY_D&&t!=l.KEY_W||-1==this.keys.indexOf(t)&&(this.keys.push(t),this.updateDirection()),t==l.KEY_Q?this.moveDir.y=-1:t==l.KEY_E&&(this.moveDir.y=1)},n.onKeyUp=function(e){var t=e.keyCode;if(t==l.KEY_A||t==l.KEY_S||t==l.KEY_D||t==l.KEY_W){var i=this.keys.indexOf(t);-1!=i&&(this.keys.splice(i,1),this.updateDirection())}t!=l.KEY_Q&&t!=l.KEY_E||(this.moveDir.y=0)},n.updateDirection=function(){null==this.key2dirMap&&(this.key2dirMap={},this.key2dirMap[0]=u(0,0),this.key2dirMap[l.KEY_A]=u(-1,0),this.key2dirMap[l.KEY_D]=u(1,0),this.key2dirMap[l.KEY_W]=u(0,1),this.key2dirMap[l.KEY_S]=u(0,-1),this.key2dirMap[1e3*l.KEY_A+l.KEY_W]=this.key2dirMap[1e3*l.KEY_W+l.KEY_A]=u(-1,1),this.key2dirMap[1e3*l.KEY_D+l.KEY_W]=this.key2dirMap[1e3*l.KEY_W+l.KEY_D]=u(1,1),this.key2dirMap[1e3*l.KEY_A+l.KEY_S]=this.key2dirMap[1e3*l.KEY_S+l.KEY_A]=u(-1,-1),this.key2dirMap[1e3*l.KEY_D+l.KEY_S]=this.key2dirMap[1e3*l.KEY_S+l.KEY_D]=u(1,-1),this.key2dirMap[1e3*l.KEY_A+l.KEY_D]=this.key2dirMap[l.KEY_D],this.key2dirMap[1e3*l.KEY_D+l.KEY_A]=this.key2dirMap[l.KEY_A],this.key2dirMap[1e3*l.KEY_W+l.KEY_S]=this.key2dirMap[l.KEY_S],this.key2dirMap[1e3*l.KEY_S+l.KEY_W]=this.key2dirMap[l.KEY_W]);var e=this.keys[this.keys.length-1]||0,t=this.keys[this.keys.length-2]||0,i=this.key2dirMap[1e3*t+e];this.moveDir.x=i.x,this.moveDir.z=i.y},t}(y)).prototype,"moveSpeed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(Y.prototype,"moveSpeedShiftScale",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),m=t(Y.prototype,"damp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=t(Y.prototype,"rotateSpeed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=Y))||K));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameUILayers.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"a77a1B4SKRKLLPJCc2S/oq0","GameUILayers",void 0);var P=e("GameUILayers",function(e){return e[e.GAME=0]="GAME",e[e.JOY_STICK=1]="JOY_STICK",e[e.HUD=2]="HUD",e[e.POPUP=3]="POPUP",e[e.POPUP1=4]="POPUP1",e[e.POPUP2=5]="POPUP2",e[e.ALERT=6]="ALERT",e[e.NOTICE=7]="NOTICE",e[e.LOADING=8]="LOADING",e[e.OVERLAY=9]="OVERLAY",e[e.NUM=10]="NUM",e}(P||{}));e("GameUILayerNames",["game","joy_stick","hud","popup","popup1","popup2","alert","notice","loading","overlay"]);a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalConfig.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"6accf2OQMpNX6qyXp9M6Uqt","GlobalConfig",void 0);e("GlobalConfig",{isDebug:!1,initilizeLevel:1,levelTotal:5});i._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./AdvertMgr.ts"],(function(n){var e,t,o,s,c;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,o=n._decorator},function(n){s=n.AudioMgr},function(n){c=n.AdvertMgr}],execute:function(){var i,u;t._RF.push({},"13efcXgb51ALL6fUqMOeIrw","GlobalMgr",void 0);var l=o.ccclass;o.property,n("GlobalMgr",l("GlobalMgr")(((u=function(){function n(){}var t=n.prototype;return t.initilize=function(){window.__woso={SoundMr:{pauseAll:function(){n.instance.pauseAllSounds()},resumeAll:function(){n.instance.resumeAllSounds()}},TargetedAds:{open:function(){n.instance.openAd()},clos:function(){n.instance.closeAd()}},Fps:{setfps:function(e){n.instance.setfps(e)}}}},t.pauseAllSounds=function(){s.inst.toggleBgMusic(!1),s.inst.toggleSoundEffects(!1)},t.resumeAllSounds=function(){s.inst.toggleBgMusic(!0),s.inst.toggleSoundEffects(!0)},t.openAd=function(){console.log("开启广告"),c.instance.openAd=!0},t.closeAd=function(){console.log("关闭广告"),c.instance.openAd=!1},t.setfps=function(n){console.log("设置帧率:",n)},t.timeTest=function(){setTimeout((function(){window.__woso.SoundMr.pauseAll()}),2e3)},e(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=null,i=u))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/GtagMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"90384pBPY1AbbNeu1RjwigD","GtagMgr",void 0),e("GtagMgr",function(){function e(){this.gtag=null}var n=e.prototype;return n.init=function(){"function"==typeof window.gtag?(console.log("gtag is available."),this.gtag=window.gtag):console.warn("gtag is not available.")},n.doGameDot=function(e,t){this.gtag?(e===a.game_start&&(console.log("gtag上报游戏开始!"),this.gtag("event",e,{game_name:document.title})),e===a.level_start&&this.gtag("event",e,{level_name:t.level,game_name:document.title}),e===a.level_end&&this.gtag("event",e,{level_name:t.level,success:"level success",game_name:document.title}),e===a.ad_error&&this.gtag("event",e,{game_name:document.title})):console.log("gtag获取失败 无法上报!")},t(e,null,[{key:"inst",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=null;var a=e("GtagType",{game_start:"game_start",level_start:"level_start",level_end:"level_end",ad_error:"ad_error"});n._RF.pop()}}}));

System.register("chunks:///_virtual/InputMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var s,n;return{setters:[function(t){s=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8fac4mBG8lPo5xB3wRNGThs","InputMgr",void 0),t("InputMgr",function(){function t(){this.STATE_NORMAL=1,this.STATE_KEEP=2,this._flags={},this._flagsMeta={}}var n=t.prototype;return n.setFlag=function(t,s,n){this._flags[t]=s?this.STATE_KEEP:this.STATE_NORMAL,null!=n&&(this._flagsMeta[t]=n)},n.removeFlag=function(t){delete this._flags[t]},n.hasFlag=function(t){return!!this._flags[t]},n.getMetaByFlag=function(t){return this._flagsMeta[t]},n.update=function(){for(var t in this._flags)this._flags[t]!=this.STATE_KEEP&&(this._flags[t]=0)},s(t,null,[{key:"inst",get:function(){return this._inst||(this._inst=new t),this._inst}}]),t}())._inst=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/JsonUtil.ts",["cc","./ResLoader.ts"],(function(n){var e,o,s;return{setters:[function(n){e=n.cclegacy,o=n.JsonAsset},function(n){s=n.resLoader}],execute:function(){e._RF.push({},"98ab3pLi+tN4LdGVXa7lf1E","JsonUtil",void 0);var t="config/",r=new Map;n("JsonUtil",function(){function n(){}return n.get=function(n){if(r.has(n))return r.get(n)},n.load=function(n,e){if(r.has(n))e(r.get(n));else{var a=t+n;s.load(a,o,(function(o,t){o?(console.warn(o.message),e(null)):(r.set(n,t.json),s.release(a),e(t.json))}))}},n.loadAsync=function(n){return new Promise((function(e,a){if(r.has(n))e(r.get(n));else{var c=t+n;s.load(c,o,(function(o,t){o?(console.warn(o.message),e(null)):(r.set(n,t.json),s.release(c),e(t.json))}))}}))},n.loadDirAsync=function(){return new Promise((function(n,e){s.loadDir(t,(function(e,o){e?(console.warn(e.message),n(!1)):(o.forEach((function(n){r.set(n.name,n.json)})),s.releaseDir(t),n(!0))}))}))},n.release=function(n){r.delete(n)},n.clear=function(){r.clear()},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Layout_UIAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,l,a,o,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Label,c=e.Button,u=e.Component}],execute:function(){var p,s,b,y,f,g,I,L,_,h,z;l._RF.push({},"6ecd6IlzI9HPLIIqQ4aHRcQ","Layout_UIAlert",void 0);var d=a.ccclass,m=a.property;e("Layout_UIAlert",(p=d("tgxLayout_UIAlert"),s=m(o),b=m(o),y=m(c),f=m(c),p((L=t((I=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"title",L,i(t)),n(t,"content",_,i(t)),n(t,"btnOK",h,i(t)),n(t,"btnCancel",z,i(t)),t}return r(t,e),t}(u)).prototype,"title",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=t(I.prototype,"btnOK",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(I.prototype,"btnCancel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=I))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/Layout_UITips.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,a,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,s=t.Component}],execute:function(){var u,l,p,y,f;o._RF.push({},"2ac19Ls7+1L2IiZmUSc6cuv","Layout_UITips",void 0);var L=a.ccclass,_=a.property;t("Layout_UITips",(u=L("tgxLayout_UITips"),l=_(c),u((f=e((y=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"content",f,n(e)),e}return r(e,t),e}(s)).prototype,"content",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Layout_UIWaiting.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,r,o,a,l,c,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,l=i.Node,c=i.Label,u=i.Component}],execute:function(){var p,s,g,y,f,d,b;o._RF.push({},"cf096mKKypBc5BOy11i+5NG","Layout_UIWaiting",void 0);var _=a.ccclass,h=a.property;i("Layout_UIWaiting",(p=_("tgxLayout_UIWaiting"),s=h(l),g=h(c),p((d=t((f=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,n(t,"loadingIcon",d,r(t)),n(t,"loadingTxt",b,r(t)),t}return e(t,i),t}(u)).prototype,"loadingIcon",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(f.prototype,"loadingTxt",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AudioMgr.ts","./GtagMgr.ts","./InputMgr.ts","./ModuleClass.ts","./ModuleContext.ts","./ResLoader.ts","./ResolutionAutoFit.ts","./ResourceMgr.ts","./SafeJSON.ts","./ADEvent.ts","./AdvertMgr.ts","./JsonUtil.ts","./Adapter.ts","./AdapterSafeArea.ts","./AdapterSprite.ts","./AdapterView.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./EventDispatcher.ts","./UIController.ts","./UILayers.ts","./UIMgr.ts","./Layout_UIAlert.ts","./UIAlert.ts","./Layout_UITips.ts","./UITips.ts","./Layout_UIWaiting.ts","./UIWaiting.ts","./tgx.ts","./GameUILayers.ts","./GlobalMgr.ts","./ModuleDef.ts","./SceneDef.ts","./UIDef.ts","./GlobalConfig.ts","./Start.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ModuleClass.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"aa98aD84tpKRKaBzTQR9N6Z","ModuleClass",void 0);var n="__module__name__",u="resources";t("ModuleClass",function(){function t(){}return t.setDefaultModule=function(t){u=t},t.attachModule=function(t,e){t[n]=e},t.getModule=function(t){return t[n]||u},t.attachImplClass=function(t,e){t.__impl__class__=e},t.attachModuleAndImplClass=function(t,e,u){t[n]=e,t.__impl__class__=u},t.getImplClass=function(t){return t.__impl__class__||t},t.createFromModule=function(t){return new(this.getImplClass(t)||t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleContext.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5575a3VV2RD746hi1OU1Xsj","ModuleContext",void 0);var n="__module__name__",u="resources";t("ModuleContext",function(){function t(){}return t.setDefaultModule=function(t){u=t},t.attachModule=function(t,e){t[n]=e},t.getClassModule=function(t){return t[n]||u},t.attachImplClass=function(t,e){t.__impl__class__=e},t.attachModuleAndImplClass=function(t,e,u){t[n]=e,t.__impl__class__=u},t.getImplClass=function(t){return t.__impl__class__||t},t.createFromModule=function(t){return new(this.getImplClass(t)||t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleDef.ts",["cc"],(function(e){var u;return{setters:[function(e){u=e.cclegacy}],execute:function(){u._RF.push({},"6cdc84XjYpIJZs1++qgwn4Z","ModuleDef",void 0);var c=e("ModuleDef",(function(){}));c.BASIC="module_basic",c.EXTRA="module_extra",c.MODULE_ALIENS="module_aliens",u._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,s,o,a,l,u,d,i;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e.assetManager,a=e.error,l=e.warn,u=e.Asset,d=e.js,i=e.resources}],execute:function(){s._RF.push({},"95cd81I03BAMJVCIgholVoS","ResLoader",void 0);var c=e("ResLoader",function(){function e(){this.defaultBundleName="module_basic",this.gameBundleName="module_aliens",this.cdn=!1,this.bundles=new Map}var s=e.prototype;return s.init=function(e){for(var n in this.cdn=e.enable,e.packages)this.bundles.set(n,e.packages[n])},s.loadRemote=function(e){var n=null,t=null;2==(arguments.length<=1?0:arguments.length-1)?(n=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2]):t=arguments.length<=1?void 0:arguments[1],o.loadRemote(e,n,t)},s.loadBundle=function(e,n){return new Promise((function(t,r){o.loadBundle(e,{version:n},(function(e,n){if(e)return a(e);t(n)}))}))},s.removeBundle=function(e){var n=o.bundles.get(e);n&&(n.releaseAll(),o.removeBundle(n))},s.preload=function(e,n,t,r,s){var o=null;"string"==typeof n||n instanceof Array?(o=this.parseLoadResArgs(n,t,r,s)).bundle=e:(o=this.parseLoadResArgs(e,n,t,r)).bundle=this.defaultBundleName,o.preload=!0,this.loadByArgs(o)},s.preloadAsync=function(e,n,t){var r=this;return new Promise((function(s,o){r.preload(e,n,t,(function(e,n){e&&l(e.message),s(n)}))}))},s.preloadDir=function(e,n,t,r,s){var o=null;"string"==typeof n?(o=this.parseLoadResArgs(n,t,r,s)).bundle=e:(o=this.parseLoadResArgs(e,n,t,r)).bundle=this.defaultBundleName,o.dir=o.paths,o.preload=!0,this.loadByArgs(o)},s.load=function(e,n,t,r,s){var o=null;"string"==typeof n||n instanceof Array?(o=this.parseLoadResArgs(n,t,r,s)).bundle=e:(o=this.parseLoadResArgs(e,n,t,r)).bundle=this.defaultBundleName,this.loadByArgs(o)},s.loadAsync=function(e,n,t){var r=this;return new Promise((function(s,o){r.load(e,n,t,(function(e,n){e&&l(e.message),s(n)}))}))},s.loadDir=function(e,n,t,r,s){var o=null;"string"==typeof n?(o=this.parseLoadResArgs(n,t,r,s)).bundle=e:(o=this.parseLoadResArgs(e,n,t,r)).bundle=this.defaultBundleName,o.dir=o.paths,this.loadByArgs(o)},s.release=function(e,n){void 0===n&&(n=this.defaultBundleName);var t=o.getBundle(n);if(t){var r=t.get(e);r&&this.releasePrefabtDepsRecursively(r)}},s.releaseDir=function(e,n){var t=this;void 0===n&&(n=this.defaultBundleName);var r=o.getBundle(n);if(r){var s=r.getDirWithPath(e);s&&s.map((function(e){t.releasePrefabtDepsRecursively(e.uuid)})),""==e&&"resources"!=n&&o.removeBundle(r)}},s.releasePrefabtDepsRecursively=function(e){if(e instanceof u)e.decRef();else{var n=o.assets.get(e);n&&n.decRef()}},s.get=function(e,n,t){return void 0===t&&(t=this.defaultBundleName),o.getBundle(t).get(e,n)},s.parseLoadResArgs=function(e,n,t,r){var s=e,o=n,a=t,l=r;if(void 0===r){var i=d.isChildClassOf(n,u);t?(l=t,i&&(a=null)):void 0!==t||i||(l=n,a=null,o=null),void 0===t||i||(a=n,o=null)}return{paths:s,type:o,onProgress:a,onComplete:l}},s.loadByBundleAndArgs=function(e,n){n.dir?n.preload?e.preloadDir(n.paths,n.type,n.onProgress,n.onComplete):e.loadDir(n.paths,n.type,n.onProgress,n.onComplete):n.preload?e.preload(n.paths,n.type,n.onProgress,n.onComplete):e.load(n.paths,n.type,n.onProgress,n.onComplete)},s.loadByArgs=function(){var e=t(r().mark((function e(n){var t,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.bundle){e.next=13;break}if(!(t=o.bundles.get(n.bundle))){e.next=6;break}this.loadByBundleAndArgs(t,n),e.next=11;break;case 6:return s=this.cdn?this.bundles.get(n.bundle):"",e.next=9,this.loadBundle(n.bundle,s);case 9:(t=e.sent)&&this.loadByBundleAndArgs(t,n);case 11:e.next=14;break;case 13:this.loadByBundleAndArgs(i,n);case 14:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s.dump=function(){o.assets.forEach((function(e,n){console.log(o.assets.get(n))})),console.log("当前资源总数:"+o.assets.count)},n(e,[{key:"maxConcurrency",get:function(){return o.downloader.maxConcurrency},set:function(e){o.downloader.maxConcurrency=e}},{key:"maxRequestsPerFrame",get:function(){return o.downloader.maxRequestsPerFrame},set:function(e){o.downloader.maxRequestsPerFrame=e}},{key:"maxRetryCount",get:function(){return o.downloader.maxRetryCount},set:function(e){o.downloader.maxRetryCount=e}},{key:"retryInterval",get:function(){return o.downloader.retryInterval},set:function(e){o.downloader.retryInterval=e}}]),e}());e("resLoader",new c);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResolutionAutoFit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,e,s,n,u,l,c;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,s=t.screen,n=t.view,u=t.ResolutionPolicy,l=t.size,c=t.Component}],execute:function(){var r;o._RF.push({},"e5d8aIjX9NO3ox3KMWTDbsA","ResolutionAutoFit",void 0);var a=e.ccclass;e.property,t("ResolutionAutoFit",a("tgxResolutionAutoFit")(r=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this)._oldSize=l(),i.lastCheckTime=0,i}i(o,t);var e=o.prototype;return e.start=function(){this.adjustResolutionPolicy()},e.update=function(t){this.lastCheckTime+=t,this.lastCheckTime<.1||(this.lastCheckTime=0,this.adjustResolutionPolicy())},e.adjustResolutionPolicy=function(){var t=s.windowSize;if(!this._oldSize.equals(t)){var i=t.width/t.height,o=n.getDesignResolutionSize();i>o.width/o.height?n.setResolutionPolicy(u.FIXED_HEIGHT):n.setResolutionPolicy(u.FIXED_WIDTH),this._oldSize.set(t)}},o}(c))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,i=e.resources}],execute:function(){t._RF.push({},"b666cLPxptFbq3Cc9VNNPIW","ResourceMgr",void 0);var r=function(){this.url=void 0,this.isLoading=!1,this.callbackArr=[]};e("ResourceMgr",function(){function e(){this.loadingQueue=[]}return e.prototype.loadRes=function(e,n,t){var u=this,s=i.get(e,n);if(s)t&&setTimeout((function(){t(null,s)}),10);else{var o=this.loadingQueue[e];o||((o=this.loadingQueue[e]=new r).url=e),o.callbackArr.push(t),o.isLoading||(o.isLoading=!0,i.load(e,n,(function(n,t){for(var i in delete u.loadingQueue[e],o.callbackArr){var r=o.callbackArr[i];r&&r(n,t)}})))}},n(e,null,[{key:"inst",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/SafeJSON.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"2aad8l/WzBPTIhr1W6SB9Pt","SafeJSON",void 0);t("SafeJSON",function(){function t(){}return t.parse=function(t,n){try{return JSON.parse(t,n)}catch(t){return console.log(t),null}},t.stringify=function(t,n,r){try{return JSON.stringify(t,n,r)}catch(t){return null}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneDef.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"402c86/nTlCBZjjfWHP0t76","SceneDef",void 0);var c=e("SceneDef",(function(){}));c.START="start",c.ROOSTER_HOLE="rooster_aliens",t._RF.pop()}}}));

System.register("chunks:///_virtual/Start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./tgx.ts","./GameUILayers.ts","./ModuleDef.ts","./SceneDef.ts","./JsonUtil.ts","./GtagMgr.ts","./AdvertMgr.ts","./GlobalConfig.ts","./GlobalMgr.ts","./ModuleContext.ts","./UIMgr.ts","./UIWaiting.ts"],(function(e){var t,n,a,i,r,o,u,l,s,d,p,c,f,g,b,L,m,_,I,h,y,A,E,U,D,S,M,v,C,O,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,s=e.Label,d=e.Prefab,p=e.ProgressBar,c=e.PhysicsSystem2D,f=e.EPhysics2DDrawFlags,g=e.game,b=e.assetManager,L=e.AudioClip,m=e.director,_=e.Component},null,function(e){I=e.GameUILayers,h=e.GameUILayerNames},function(e){y=e.ModuleDef},function(e){A=e.SceneDef},function(e){E=e.JsonUtil},function(e){U=e.GtagMgr,D=e.GtagType},function(e){S=e.AdvertMgr},function(e){M=e.GlobalConfig},function(e){v=e.GlobalMgr},function(e){C=e.ModuleContext},function(e){O=e.UIMgr},function(e){w=e.UIWaiting}],execute:function(){var P,B,N,x,G,R,T,z,k;u._RF.push({},"66e163GxmdDp7kaguqDvTVl","Start",void 0);var F=l.ccclass,j=l.property,q=[y.BASIC,y.MODULE_ALIENS],J=[{bundle:y.BASIC,url:"ui_alert/UI_Alert",type:"prefab"},{bundle:y.BASIC,url:"ui_tips/UI_Tips",type:"prefab"},{bundle:y.BASIC,url:"ui_waiting/UI_Waiting",type:"prefab"},{bundle:y.MODULE_ALIENS,url:"Prefabs/UI/Result/UI_BattleResult",type:"prefab"},{bundle:y.MODULE_ALIENS,url:"Prefabs/UI/Gambit/UI_BattleGambit",type:"prefab"},{bundle:y.MODULE_ALIENS,url:"Prefabs/UI/PowerUp/UI_PowerUp",type:"prefab"},{bundle:y.MODULE_ALIENS,url:"Prefabs/UI/TimeExpan/UI_TimeExpan",type:"prefab"},{bundle:y.MODULE_ALIENS,url:"Prefabs/Levels/level_1",type:"prefab"},{bundle:y.MODULE_ALIENS,url:"Audio/bgm1.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/dianji.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/shengli.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/shibai.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/kaiqiang.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/miaozhun.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/qiangbao.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/tance.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/jibi.mp3",type:"audio"},{bundle:y.MODULE_ALIENS,url:"Audio/chaofeng.mp3",type:"audio"}],W=["Loading.","Loading..","Loading..."],H=q.length+J.length+1;e("Start",(P=F("Start"),B=j(s),N=j(d),x=j(p),P((T=t((R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"txtLoading",T,i(t)),a(t,"uiCanvasPrefab",z,i(t)),a(t,"loadingBar",k,i(t)),t._percent="",t._numCurrentLoaded=0,t}n(t,e);var u=t.prototype;return u.onLoad=function(){v.instance.initilize(),S.instance.initilize(),M.isDebug||S.instance.showInterstitial(),window.addEventListener("beforeunload",(function(){var e=Date.now();localStorage.setItem("lastLeaveTime",e.toString())}))},u.start=function(){c.instance.debugDrawFlags=f.Aabb|f.Pair|f.CenterOfMass|f.Joint|f.Shape,c.instance.debugDrawFlags=1,C.setDefaultModule(y.BASIC),g.frameRate=60,O.inst.setup(this.uiCanvasPrefab,I.NUM,h),this.preloadBundle(0),U.inst.init(),this.loadConfig(),U.inst.doGameDot(D.game_start)},u.loadConfig=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCustom();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.loadCustom=function(){return new Promise(r(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.loadDirAsync();case 2:t(null);case 3:case"end":return e.stop()}}),e)}))))},u.onResLoaded=function(){this._numCurrentLoaded++,this._percent=~~(this._numCurrentLoaded/H*100)+"%"},u.preloadBundle=function(e){var t=this;b.loadBundle(q[e],null,(function(n,a){console.log("module:<"+q[e]+">loaded."),e++,t.onResLoaded(),e<q.length?t.preloadBundle(e):t.preloadRes(0)}))},u.preloadRes=function(e){var t=this,n=J[e],a=b.getBundle(n.bundle),i=function(){e++,t.onResLoaded(),e<J.length?t.preloadRes(e):t.onPreloadingComplete()};a&&("prefab"==n.type?a.preload(n.url,d,i):"audio"==n.type&&a.preload(n.url,L,i))},u.onPreloadingComplete=function(){var e=this;b.getBundle(y.MODULE_ALIENS).preloadScene(A.ROOSTER_HOLE,(function(){e.onResLoaded();var t="module_aliens",n="rooster_aliens";w.show(),b.loadBundle(t,(function(e,t){t&&m.loadScene(n,(function(){O.inst.hideAll()}))}))}))},u.update=function(e){if(this._percent)this.txtLoading.string="Loading..."+this._percent;else{var t=Math.floor(g.totalTime/1e3)%3;this.txtLoading.string=W[t]}this.loadingBar.progress=this._numCurrentLoaded/H},t}(_)).prototype,"txtLoading",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(R.prototype,"uiCanvasPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(R.prototype,"loadingBar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=R))||G));u._RF.pop()}}}));

System.register("chunks:///_virtual/tgx.ts",["cc","./AudioMgr.ts","./InputMgr.ts","./ResourceMgr.ts","./SafeJSON.ts","./ResolutionAutoFit.ts","./ModuleContext.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIAlert.ts","./Layout_UITips.ts","./UITips.ts","./Layout_UIWaiting.ts","./UIWaiting.ts","./EventDispatcher.ts","./UIController.ts","./UILayers.ts","./UIMgr.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("tgxAudioMgr",e.AudioMgr)},function(e){t("tgxInputMgr",e.InputMgr)},function(e){t("tgxResourceMgr",e.ResourceMgr)},function(e){t("tgxSafeJSON",e.SafeJSON)},function(e){t("tgxResolutionAutoFit",e.ResolutionAutoFit)},function(e){t("tgxModuleContext",e.ModuleContext)},function(e){t("tgxFPSCamera",e.FPSCamera)},function(e){t("tgxFollowCamera2D",e.FollowCamera2D)},function(e){t("tgxFreeCamera",e.FreeCamera)},function(e){t("tgxThirdPersonCamera",e.ThirdPersonCamera)},function(e){t("tgxCharacterMovement",e.CharacterMovement)},function(e){t("tgxCharacterMovement2D",e.CharacterMovement2D)},function(e){var n={};n.tgxEasyController=e.EasyController,n.tgxEasyControllerEvent=e.EasyControllerEvent,t(n)},function(e){t("tgxThirdPersonCameraCtrl",e.ThirdPersonCameraCtrl)},function(e){t("tgxUI_Joystick",e.UI_Joystick)},function(e){t("tgxLayout_UIAlert",e.Layout_UIAlert)},function(e){t("tgxUIAlert",e.UIAlert)},function(e){t("tgxLayout_UITips",e.Layout_UITips)},function(e){t("tgxUITips",e.UITips)},function(e){t("tgxLayout_UIWaiting",e.Layout_UIWaiting)},function(e){t("tgxUIWaiting",e.UIWaiting)},function(e){t("tgxEventDispatcher",e.EventDispatcher)},function(e){t("tgxUIController",e.UIController)},function(e){var n={};n.gdsUILayerNames=e.UILayerNames,n.tgxUILayers=e.UILayers,t(n)},function(e){t("tgxUIMgr",e.UIMgr)}],execute:function(){e._RF.push({},"f6affkIabhNnqd5KRuhkVzy","tgx",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ThirdPersonCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,a,o,l,s,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.v3,s=e.Node,u=e.Vec3,c=e.Component}],execute:function(){var h,g,p,f,b,m,y,d,_,M,w,v;a._RF.push({},"0e5acyZ1V5MwY4MXWYmJeO2","ThirdPersonCamera",void 0);var z=o.ccclass,A=o.property,L=l(),T=l();e("ThirdPersonCamera",(h=z("tgxThirdPersonCamera"),g=A(s),h((b=t((f=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"target",b,r(t)),i(t,"lookAtOffset",m,r(t)),i(t,"zoomSensitivity",y,r(t)),i(t,"lenMin",d,r(t)),i(t,"lenMax",_,r(t)),i(t,"len",M,r(t)),i(t,"rotateVHSeparately",w,r(t)),i(t,"tweenTime",v,r(t)),t._targetLen=0,t._targetAngles=l(),t}n(t,e);var a=t.prototype;return a.start=function(){this._targetLen=this.len,this._targetAngles.set(this.node.eulerAngles)},a.setLenFactor=function(e){var t=(this.lenMax-this.lenMin)*e+this.lenMin;this._targetLen=t},a.setTargetAngles=function(e,t,n){this._targetAngles.set(e,t,n)},a.lateUpdate=function(e){if(this.target){var t=Math.min(e/this.tweenTime,1);L.set(this.node.eulerAngles),u.lerp(L,L,this._targetAngles,t),this.node.setRotationFromEuler(L),L.set(this.target.worldPosition),L.add(this.lookAtOffset),this.len=this.len*(1-t)+this._targetLen*t,T.set(this.node.forward),T.multiplyScalar(this.len),L.subtract(T),this.node.setPosition(L)}},a.onCameraRotate=function(e,t){var n=this.node.eulerAngles;this.rotateVHSeparately&&(Math.abs(e)>Math.abs(t)?t=0:e=0),this._targetAngles.set(n.x+20*e,n.y+20*t,n.z)},a.onCameraZoom=function(e){this._targetLen=e,this._targetLen<this.lenMin&&(this._targetLen=this.lenMin),this._targetLen>this.lenMax&&(this._targetLen=this.lenMax)},t}(c)).prototype,"target",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(f.prototype,"lookAtOffset",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l()}}),y=t(f.prototype,"zoomSensitivity",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=t(f.prototype,"lenMin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),_=t(f.prototype,"lenMax",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),M=t(f.prototype,"len",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=t(f.prototype,"rotateVHSeparately",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=t(f.prototype,"tweenTime",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/ThirdPersonCameraCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ThirdPersonCamera.ts","./EasyController.ts"],(function(t){var r,e,o,n,s,a;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.ThirdPersonCamera},function(t){s=t.EasyController,a=t.EasyControllerEvent}],execute:function(){var i;e._RF.push({},"6ea3cEV3klIAZnz+Ay66ut+","ThirdPersonCameraCtrl",void 0);var l=o.ccclass;o.property,t("ThirdPersonCameraCtrl",l("tgxThirdPersonCameraCtrl")(i=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var o=e.prototype;return o.start=function(){s.on(a.CAMERA_ROTATE,this.onCameraRotate,this),s.on(a.CAMERA_ZOOM,this.onCameraZoom,this),this._targetLen=this.len,this._targetAngles.set(this.node.eulerAngles)},o.onDestroy=function(){s.off(a.CAMERA_ROTATE,this.onCameraRotate,this),s.off(a.CAMERA_ZOOM,this.onCameraZoom,this)},e}(n))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Joystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(t){var e,o,i,n,h,s,_,a,c,r,u;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){i=t.cclegacy,n=t._decorator,h=t.UITransform,s=t.Input,_=t.KeyCode,a=t.input,c=t.director,r=t.Component},function(t){u=t.EasyControllerEvent}],execute:function(){var l,T;i._RF.push({},"0d3fdUMUH1Fq4G13IWj7Lf2","UI_Joystick",void 0);var m=n.ccclass;n.property,t("UI_Joystick",m("tgxUI_Joystick")(((T=function(t){function i(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._ctrlRoot=null,e._ctrlPointer=null,e._checkerCamera=null,e._buttons=null,e._cameraSensitivity=.1,e._distanceOfTwoTouchPoint=0,e._movementTouch=null,e._cameraTouchA=null,e._cameraTouchB=null,e._scene=null,e._key2buttonMap={},e._keys=[],e._degree=0,e._key2dirMap=null,e}e(i,t);var n=i.prototype;return n.onLoad=function(){i._inst=this},n.start=function(){var t=this.node.getChildByName("checker_camera").getComponent(h);t.node.on(s.EventType.TOUCH_START,this.onTouchStart_CameraCtrl,this),t.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove_CameraCtrl,this),t.node.on(s.EventType.TOUCH_END,this.onTouchUp_CameraCtrl,this),t.node.on(s.EventType.TOUCH_CANCEL,this.onTouchUp_CameraCtrl,this);var e=this.node.getChildByName("checker_movement").getComponent(h);e.node.on(s.EventType.TOUCH_START,this.onTouchStart_Movement,this),e.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove_Movement,this),e.node.on(s.EventType.TOUCH_END,this.onTouchUp_Movement,this),e.node.on(s.EventType.TOUCH_CANCEL,this.onTouchUp_Movement,this),this._checkerCamera=t,this._ctrlRoot=this.node.getChildByName("ctrl").getComponent(h),this._ctrlRoot.node.active=!1,this._ctrlPointer=this._ctrlRoot.node.getChildByName("pointer"),this._buttons=this.node.getChildByName("buttons"),this._key2buttonMap[_.KEY_J]="btn_slot_0",this._key2buttonMap[_.KEY_K]="btn_slot_1",this._key2buttonMap[_.KEY_L]="btn_slot_2",this._key2buttonMap[_.KEY_U]="btn_slot_3",this._key2buttonMap[_.KEY_I]="btn_slot_4",a.on(s.EventType.KEY_DOWN,this.onKeyDown,this),a.on(s.EventType.KEY_UP,this.onKeyUp,this),a.on(s.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this._scene=c.getScene()},n.onDestroy=function(){a.off(s.EventType.KEY_DOWN,this.onKeyDown,this),a.off(s.EventType.KEY_UP,this.onKeyUp,this),a.off(s.EventType.MOUSE_WHEEL,this.onMouseWheel,this),i._inst=null},n.bindKeyToButton=function(t,e){this._key2buttonMap[t]=e},n.setButtonVisible=function(t,e){var o,i=null==(o=this._buttons)?void 0:o.getChildByName(t);i&&(i.active=e)},n.getButtonByName=function(t){return this._buttons.getChildByName(t)},n.onTouchStart_Movement=function(t){for(var e=t.getTouches(),o=0;o<e.length;++o){var i=e[o],n=i.getUILocationX(),h=i.getUILocationY();if(!this._movementTouch){var s=this._checkerCamera.width/2,_=this._checkerCamera.height/2;this._ctrlRoot.node.active=!0,this._ctrlRoot.node.setPosition(n-s,h-_,0),this._ctrlPointer.setPosition(0,0,0),this._movementTouch=i}}},n.onTouchMove_Movement=function(t){for(var e=t.getTouches(),o=0;o<e.length;++o){var i=e[o];if(this._movementTouch&&i.getID()==this._movementTouch.getID()){var n=this._checkerCamera.width/2,h=this._checkerCamera.height/2,s=i.getUILocationX(),_=i.getUILocationY(),a=this._ctrlRoot.node.position,c=s-n-a.x,r=_-h-a.y,l=Math.sqrt(c*c+r*r);if(l<=0)return;var T=c/l,m=r/l,y=this._ctrlRoot.width/2;l>y&&(l=y,c=T*y,r=m*y),this._ctrlPointer.setPosition(c,r,0);var E=Math.atan(m/T)/Math.PI*180;E+=T<0?180:360,this._scene.emit(u.MOVEMENT,E,l/y)}}},n.onTouchUp_Movement=function(t){for(var e=t.getTouches(),o=0;o<e.length;++o){var i=e[o];this._movementTouch&&i.getID()==this._movementTouch.getID()&&(this._scene.emit(u.MOVEMENT_STOP),this._movementTouch=null,this._ctrlRoot.node.active=!1)}},n.getDistOfTwoTouchPoints=function(){var t=this._cameraTouchA,e=this._cameraTouchB;if(!t||!e)return 0;var o=t.getLocationX()-e.getLocationX(),i=e.getLocationY()-e.getLocationY();return Math.sqrt(o*o+i*i)},n.onTouchStart_CameraCtrl=function(t){var e=t.getAllTouches();this._cameraTouchA=null,this._cameraTouchB=null;for(var o=e.length-1;o>=0;o--){var i=e[o];if(!this._movementTouch||i.getID()!=this._movementTouch.getID())if(null==this._cameraTouchA)this._cameraTouchA=e[o];else if(null==this._cameraTouchB){this._cameraTouchB=e[o];break}}this._distanceOfTwoTouchPoint=this.getDistOfTwoTouchPoints()},n.onTouchMove_CameraCtrl=function(t){for(var e=t.getTouches(),o=0;o<e.length;++o){var i=e[o],n=i.getID();if(this._cameraTouchA&&this._cameraTouchB){console.log(n,this._cameraTouchA.getID(),this._cameraTouchB.getID());var h=!1;if(n==this._cameraTouchA.getID()&&(this._cameraTouchA=i,h=!0),n==this._cameraTouchB.getID()&&(this._cameraTouchB=i,h=!0),h){var s=this.getDistOfTwoTouchPoints(),_=this._distanceOfTwoTouchPoint-s;this._scene.emit(u.CAMERA_ZOOM,_),this._distanceOfTwoTouchPoint=s}}else if(this._cameraTouchA&&n==this._cameraTouchA.getID()){var a=i.getDelta(),c=a.y*this._cameraSensitivity,r=-a.x*this._cameraSensitivity;this._scene.emit(u.CAMERA_ROTATE,c,r)}}},n.onTouchUp_CameraCtrl=function(t){for(var e=t.getAllTouches(),o=!1,i=!1,n=0;n<e.length;++n){var h=e[n].getID();this._cameraTouchA&&h==this._cameraTouchA.getID()?o=!0:this._cameraTouchB&&h==this._cameraTouchB.getID()&&(i=!0)}o||(this._cameraTouchA=null),i||(this._cameraTouchB=null)},n.onKeyDown=function(t){var e=t.keyCode;if(e==_.KEY_A||e==_.KEY_S||e==_.KEY_D||e==_.KEY_W)-1==this._keys.indexOf(e)&&(this._keys.push(e),this.updateDirection());else{var o=this._key2buttonMap[e];o&&this._scene.emit(u.BUTTON,o)}},n.onKeyUp=function(t){var e=t.keyCode;if(e==_.KEY_A||e==_.KEY_S||e==_.KEY_D||e==_.KEY_W){var o=this._keys.indexOf(e);-1!=o&&(this._keys.splice(o,1),this.updateDirection())}},n.onMouseWheel=function(t){var e=.1*t.getScrollY();console.log(e),this._scene.emit(u.CAMERA_ZOOM,e)},n.onButtonSlot=function(t){var e=t.target.name;this._scene.emit(u.BUTTON,e)},n.updateDirection=function(){null==this._key2dirMap&&(this._key2dirMap={},this._key2dirMap[0]=-1,this._key2dirMap[_.KEY_A]=180,this._key2dirMap[_.KEY_D]=0,this._key2dirMap[_.KEY_W]=90,this._key2dirMap[_.KEY_S]=270,this._key2dirMap[1e3*_.KEY_A+_.KEY_W]=this._key2dirMap[1e3*_.KEY_W+_.KEY_A]=135,this._key2dirMap[1e3*_.KEY_D+_.KEY_W]=this._key2dirMap[1e3*_.KEY_W+_.KEY_D]=45,this._key2dirMap[1e3*_.KEY_A+_.KEY_S]=this._key2dirMap[1e3*_.KEY_S+_.KEY_A]=225,this._key2dirMap[1e3*_.KEY_D+_.KEY_S]=this._key2dirMap[1e3*_.KEY_S+_.KEY_D]=315,this._key2dirMap[1e3*_.KEY_A+_.KEY_D]=this._key2dirMap[_.KEY_D],this._key2dirMap[1e3*_.KEY_D+_.KEY_A]=this._key2dirMap[_.KEY_A],this._key2dirMap[1e3*_.KEY_W+_.KEY_S]=this._key2dirMap[_.KEY_S],this._key2dirMap[1e3*_.KEY_S+_.KEY_W]=this._key2dirMap[_.KEY_W]);var t=this._keys[this._keys.length-1]||0,e=this._keys[this._keys.length-2]||0;this._degree=this._key2dirMap[1e3*e+t],null==this._degree||this._degree<0?this._scene.emit(u.MOVEMENT_STOP):this._scene.emit(u.MOVEMENT,this._degree,1)},o(i,null,[{key:"inst",get:function(){return this._inst}}]),i}(r))._inst=null,l=T))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts","./UIMgr.ts"],(function(t){var n,i,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.UIController},function(t){e=t.UIMgr}],execute:function(){i._RF.push({},"7e91f8G1GtMQ4+Lvts9iEeD","UIAlert",void 0);var c=t("UIAlertOptions",function(){function t(){this._title=void 0,this._content=void 0,this._showCancel=void 0,this._cbClick=void 0,this._cbClickThisArg=void 0}var n=t.prototype;return n.setTitle=function(t){return this._title=t,this},n.onClick=function(t,n){return this._cbClick=t,this._cbClickThisArg=n,this},t}());t("UIAlert",function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this)._options=void 0,n}n(i,t),i.show=function(t,n){var o=new c;return o._content=t,o._showCancel=n,e.inst.showUI(i,(function(t){t.init(o)})),o};var o=i.prototype;return o.init=function(t){this._options=t;var n=this._options,i=this.layout;if(n.hasOwnProperty("title")&&(i.title.string=n._title||""),i.content.string=n._content||"",i.btnCancel.node.active=n._showCancel,!n._showCancel){var o=i.btnOK.node.position;i.btnOK.node.setPosition(0,o.y,o.z)}},o.onCreated=function(){var t=this,n=this.layout;this.onButtonEvent(n.btnOK,(function(){t.hide();var n=t._options;n._cbClick&&n._cbClick.call(n._cbClickThisArg,!0)})),this.onButtonEvent(n.btnCancel,(function(){t.hide();var n=t._options;n._cbClick&&n._cbClick.call(n._cbClickThisArg,!1)}))},i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,r,i,s,a,l,c,u,h,f,d,v;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,o=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator,s=t.Button,a=t.game,l=t.Node,c=t.find,u=t.EventHandler,h=t.Toggle,f=t.ToggleContainer,d=t.Component,v=t.isValid}],execute:function(){var g;r._RF.push({},"de702l/FU1GyIzhfLW2eNqP","UIController",void 0);var p=i.ccclass,_=(i.property,t("__NodeEventAgent__",p("tgxNodeEventAgent")(g=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onButtonClicked=function(t,n){for(var e=t.target.getComponent(s),o=e.clickEvents,r=0;r<o.length;++r){var i=o[r];if(i.customEventData==n){var a=i.$cb$,l=i.$target$,c=i.$args$;a.apply(l,[e,c])}}},o.onToggleEvent=function(t,n){for(var e=t.checkEvents,o=0;o<e.length;++o){var r=e[o];if(r.customEventData==n){var i=r.$cb$,s=r.$target$,a=r.$args$;i.apply(s,[t,a])}}},e}(d))||g)),$=t("AutoEventHandler",function(){function t(){this._handlers=[]}var n=t.prototype;return n.on=function(t,n,e,o){this._handlers.push({event:t,cb:n,target:e,once:o}),a.on(t,n,e,o)},n.off=function(t,n,e,o){a.off(t,n,e);for(var r=0;r<this._handlers.length;++r){var i=this._handlers[r];if(i.event==t&&i.cb==n&&i.target==e&&i.once==o)return void this._handlers.splice(r,1)}},n.dispose=function(){for(var t=0;t<this._handlers.length;++t){var n=this._handlers[t];a.off(n.event,n.cb,n.target)}},t}()),y=t("UIController",function(t){function r(n,e,i){var s;return(s=t.call(this)||this)._instId=0,s._prefab=void 0,s._layer=void 0,s._layout=void 0,s.node=void 0,s._prefab=n,s._layer=e,s._layout=i,s._instId=r._idBase++,r._controllers.push(o(s)),s}n(r,t),r.hideAll=function(){for(;this._controllers.length;)this._controllers[0].hide()},r.updateAll=function(){for(var t=0;t<this._controllers.length;++t){var n=this._controllers[t];n.node&&v(n.node)&&this._controllers[t].onUpdate()}};var i=r.prototype;return i.setup=function(t){this.node=t,this._layout&&(this._layout=this.node.getComponent(this._layout)),this.onCreated()},i.hide=function(){this.node.removeFromParent();for(var t=0;t<r._controllers.length;++t)if(r._controllers[t]==this){r._controllers.splice(t,1);break}this.dispose(),this.onDispose(),this.node.destroy(),this.node=null},i.onButtonEvent=function(t,n,e,o){var i=null;if(!(i=t instanceof l?t:t instanceof s?t.node:c(t,this.node)))return null;var a=this.node.getComponent(_);a||(a=this.node.addComponent(_));var h=i.getComponent(s),f=h.clickEvents,d=new u;d.target=this.node,d.component="tgxNodeEventAgent",d.handler="onButtonClicked",d.customEventData=""+r._idBase++,d.$cb$=n,d.$target$=e,d.$args$=o,f.push(d),h.clickEvents=f},i.offButtonEvent=function(t,n,e){var o=null;if((o=t instanceof l?t:t instanceof s?t.node:c(t,this.node))&&this.node.getComponent(_)){var r=o.getComponent(s);if(r)for(var i=r.clickEvents,a=0;a<i.length;++a){var u=i[a];if(u.$cb$==n&&u.$target$==e){i.splice(a,1),r.clickEvents=i;break}}}},i.onToggleEvent=function(t,n,e,o){var i=null;if(!(i=t instanceof l?t:t instanceof h||t instanceof f?t.node:c(t,this.node)))return null;var s=this.node.getComponent(_);s||(s=this.node.addComponent(_));var a=i.getComponent(h);a||(a=i.getComponent(f));var d=a.checkEvents,v=new u;v.target=this.node,v.component="tgxNodeEventAgent",v.handler="onToggleEvent",v.customEventData=""+r._idBase++,v.$cb$=n,v.$target$=e,v.$args$=o,d.push(v),a.checkEvents=d},i.offToggleEvent=function(t,n,e){var o=null;if(!(o=t instanceof l?t:t instanceof h||t instanceof f?t.node:c(t,this.node)))return null;if(this.node.getComponent(_)){var r=o.getComponent(h);r||(r=o.getComponent(f));for(var i=r.checkEvents,s=0;s<i.length;++s){var a=i[s];if(a.$cb$==n&&a.$target$==e){i.splice(s,1),r.checkEvents=i;break}}}},i.getRes=function(){return[]},i.onCreated=function(){},i.onDispose=function(){},i.onUpdate=function(){},e(r,[{key:"instId",get:function(){return this._instId}},{key:"prefab",get:function(){return this._prefab}},{key:"layer",get:function(){return this._layer}},{key:"layout",get:function(){return this._layout}}]),r}($));y._idBase=1e3,y._controllers=[],r._RF.pop()}}}));

System.register("chunks:///_virtual/UIDef.ts",["./rollupPluginModLoBabelHelpers.js","cc","./tgx.ts","./ModuleDef.ts","./ModuleContext.ts","./UIController.ts"],(function(t){var n,u,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){u=t.cclegacy},null,function(t){e=t.ModuleDef},function(t){i=t.ModuleContext},function(t){o=t.UIController}],execute:function(){u._RF.push({},"2d1b47HeBlMUoHY2m4BwD9Z","UIDef",void 0);var r=t("UI_AboutMe",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)),c=t("UI_Setting",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)),l=t("UI_BattleResult",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)),a=t("UI_BattleGambit",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)),s=t("UI_PowerUp",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)),f=t("UI_TimeExpan",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)),h=(t("UI_TopInfo",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)),t("UI_ExtraTime",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)),t("UI_Magnetic",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(o)));i.attachModule(r,e.MODULE_ALIENS),i.attachModule(c,e.EXTRA),i.attachModule(h,e.MODULE_ALIENS),i.attachModule(a,e.MODULE_ALIENS),i.attachModule(s,e.MODULE_ALIENS),i.attachModule(f,e.MODULE_ALIENS),i.attachModule(l,e.MODULE_ALIENS),u._RF.pop()}}}));

System.register("chunks:///_virtual/UILayers.ts",["cc"],(function(e){var P;return{setters:[function(e){P=e.cclegacy}],execute:function(){P._RF.push({},"c15e5F/JCxBY7zW+STv7O08","UILayers",void 0);var r=e("UILayers",function(e){return e[e.GAME=0]="GAME",e[e.JOY_STICK=1]="JOY_STICK",e[e.HUD=2]="HUD",e[e.POPUP=3]="POPUP",e[e.POPUP1=4]="POPUP1",e[e.POPUP2=5]="POPUP2",e[e.ALERT=6]="ALERT",e[e.NOTICE=7]="NOTICE",e[e.LOADING=8]="LOADING",e[e.OVERLAY=9]="OVERLAY",e[e.NUM=10]="NUM",e}(r||{}));e("UILayerNames",["game","joy_stick","hud","popup","popup1","popup2","alert","notice","loading","overlay"]);P._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts","./ModuleContext.ts","./ResolutionAutoFit.ts"],(function(t){var e,n,o,i,r,a,s,u,l,d,c,h,f,g,p;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,i=t._decorator,r=t.UITransform,a=t.Node,s=t.Widget,u=t.error,l=t.instantiate,d=t.director,c=t.assetManager,h=t.Component},function(t){f=t.UIController},function(t){g=t.ModuleContext},function(t){p=t.ResolutionAutoFit}],execute:function(){var v;o._RF.push({},"82a59QFSGVIYrBkrgAX1U2r","UIMgr",void 0);var C=i.ccclass,_=(i.property,C("tgxUIMgr.UIUpdater")(v=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.update=function(){f.updateAll()},n}(h))||v);t("UIMgr",function(){function t(){this._uiCanvas=void 0,this._uiRoot=void 0}var e=t.prototype;return e.createFullScreenNode=function(){var t=this._uiCanvas.getComponent(r),e=new a;e.layer=this._uiCanvas.layer;var n=e.addComponent(r);n.width=t.width,n.height=t.height;var o=e.addComponent(s);return o.isAlignBottom=!0,o.isAlignTop=!0,o.isAlignLeft=!0,o.isAlignRight=!0,o.left=0,o.right=0,o.top=0,o.bottom=0,e},e.setup=function(t,e,n){if(!this._uiCanvas){if(!t)throw u("uiCanvas must be a Node or Prefab");t instanceof a?this._uiCanvas=t:(this._uiCanvas=l(t),d.getScene().addChild(this._uiCanvas)),this._uiCanvas.name="$tgxUICanvas$",d.addPersistRootNode(this._uiCanvas),this._uiCanvas.getComponent(_)||this._uiCanvas.addComponent(_);var o=this._uiCanvas.getComponent(r);this._uiCanvas.addComponent(p),n||(n=[]),this._uiRoot=this.createFullScreenNode(),this._uiRoot.name="ui_root",o.node.addChild(this._uiRoot);for(var i=0;i<e;++i){var s=this.createFullScreenNode();s.name="ui_layer_"+(n[i]?n[i]:i),this._uiRoot.addChild(s)}}},e.getLayerNode=function(t){return this._uiRoot.children[t]||this._uiRoot},e.hideAll=function(){f.hideAll()},e.getUI=function(t){for(var e=f._controllers,n=0;n<e.length;++n){var o=e[n];if(o instanceof t)return o}return null},e.isShowing=function(t){for(var e=f._controllers,n=0;n<e.length;++n)if(e[n]instanceof t)return!0;return!1},e.showUI=function(e,n,o){var i=this,r=g.getClassModule(e);if(r&&!c.getBundle(r))return void c.loadBundle(r,null,(function(t,r){t?console.log(t):i.showUI(e,n,o)}));var a=g.createFromModule(e),s=a.getRes()||[];"string"==typeof a.prefab&&s.push(a.prefab);return r=r||"resources",function(e){return e.load(s,(function(r,s){r&&console.log(r);var u=null,d=a.prefab;"string"==typeof a.prefab&&(d=e.get(a.prefab)),u=d?l(d):i.createFullScreenNode(),t.inst.getLayerNode(a.layer).addChild(u),a.setup(u),n&&n.apply(o,[a])})),a}(c.getBundle(r))},n(t,null,[{key:"inst",get:function(){return null==this._inst&&(this._inst=new t),this._inst}}]),t}())._inst=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/UITips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts","./UIMgr.ts"],(function(t){var n,i,o,s,r,e,c,u,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t.UIOpacity,s=t.UITransform,r=t.tween,e=t.Tween,c=t.Vec3},function(t){u=t.UIController},function(t){a=t.UIMgr}],execute:function(){i._RF.push({},"32922qbFjJKS7LguSMclN5P","UITips",void 0);var p=t("UITipsOptions",function(){function t(){this._content=void 0}return t.prototype.setTitle=function(t){return this._content=t,this},t}());t("UITips",function(t){function i(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this)._curOpacity=null,n._curPositon=new c,n._transform=null,n._options=void 0,n._time=1,n}n(i,t),i.show=function(t){var n=new p;return n._content=t,a.inst.showUI(i,(function(t){t.init(n)})),n};var u=i.prototype;return u.init=function(t){this._options=t;var n=this._options,i=this.layout;n.hasOwnProperty("_content")&&(i.content.string=n._content||"")},u.onCreated=function(){this._curOpacity=this.node.getComponent(o),this._transform=this.node.getComponent(s),this.fadeIn(),this.runTimeOut(this._time)},u.runTimeOut=function(t){var n=this;r(this.node).delay(t).call((function(){n.fadeOut()})).start()},u.fadeIn=function(){this._curOpacity&&(e.stopAllByTarget(this._curOpacity),this._curOpacity.opacity=0,r(this._curOpacity).to(.5,{opacity:255}).start(),this.node.setPosition(0,this.node.position.y+4*this._transform.height))},u.fadeOut=function(){var t=this;this._curOpacity&&(e.stopAllByTarget(this._curOpacity),r(this._curOpacity).to(2,{opacity:0}).call((function(){var n;t.stopAllActions(),null==(n=t.node)||n.removeFromParent()})).start())},u.moveTo=function(t,n){var i=this;e.stopAllByTarget(this._curPositon),this._curPositon.set(this.node.position),r(this._curPositon).to(.5,{x:t,y:n},{onUpdate:function(t){var n;null==(n=i.node)||n.setPosition(t)},easing:"expoOut"}).start()},u.stopAllActions=function(){e.stopAllByTarget(this.node),e.stopAllByTarget(this._curPositon),this._curOpacity&&e.stopAllByTarget(this._curOpacity)},i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIWaiting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts","./UIMgr.ts"],(function(n){var o,t,i,e;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy},function(n){i=n.UIController},function(n){e=n.UIMgr}],execute:function(){t._RF.push({},"0dda6mQNCdCo5GQ959qF/Db","UIWaiting",void 0);var r=["Loading.","Loading..","Loading..."],a=null;n("UIWaiting",function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var i=t.prototype;return i.onCreated=function(){},t.show=function(){return a||(a=e.inst.showUI(t))},t.hide=function(){a&&(a.hide(),a=null)},i.onUpdate=function(){var n=this.layout;if(n.loadingIcon){var o=n.loadingIcon.eulerAngles,t=Date.now()/1e3*90;n.loadingIcon.setRotationFromEuler(o.x,o.y,t)}if(n.loadingTxt){var i=Math.floor(Date.now()/500)%3;n.loadingTxt.string=r[i]}},i.onDispose=function(){a=null},t}(i));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});